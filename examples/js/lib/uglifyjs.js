(function(h){"use strict";function e(e){return e.split("")}function ae(e,n){return 0<=n.indexOf(e)}function se(e,n){for(var t=0,i=n.length;t<i;++t)if(e(n[t]))return n[t]}function J(e,n){if(n<=0)return"";if(1==n)return e;var t=J(e,n>>1);return t+=t,1&n&&(t+=e),t}function n(e){Object.defineProperty(e.prototype,"stack",{get:function(){var e=new Error(this.message);e.name=this.name;try{throw e}catch(e){return e.stack}}})}function o(e,n){this.message=e,this.defs=n}function ne(e,n,t){!0===e&&(e={});var i=e||{};if(t)for(var r in i)pe(i,r)&&!pe(n,r)&&o.croak("`"+r+"` is not a supported option",n);for(var r in n)pe(n,r)&&(i[r]=e&&pe(e,r)?e[r]:n[r]);return i}function t(e,n){var t=0;for(var i in n)pe(n,i)&&(e[i]=n[i],t++);return t}function Z(){}function ue(){return!1}function K(){return!0}function S(){return this}function T(){return null}((o.prototype=Object.create(Error.prototype)).constructor=o).prototype.name="DefaultsError",n(o),o.croak=function(e,n){throw new o(e,n)};var ce=function(){function e(t,i,r){var o=[],a=[],s;function e(){var e=i(t[s],s),n=e instanceof l;return n&&(e=e.v),e instanceof c?(e=e.v)instanceof f?a.push.apply(a,r?e.v.slice().reverse():e.v):a.push(e):e!==u&&(e instanceof f?o.push.apply(o,r?e.v.slice().reverse():e.v):o.push(e)),n}if(t instanceof Array)if(r){for(s=t.length;0<=--s&&!e(););o.reverse(),a.reverse()}else for(s=0;s<t.length&&!e();++s);else for(s in t)if(pe(t,s)&&e())break;return a.concat(o)}e.at_top=function(e){return new c(e)},e.splice=function(e){return new f(e)},e.last=function(e){return new l(e)};var u=e.skip={};function c(e){this.v=e}function f(e){this.v=e}function l(e){this.v=e}return e}();function v(e,n){e.indexOf(n)<0&&e.push(n)}function O(e,t){return e.replace(/\{(.+?)\}/g,function(e,n){return t&&t[n]})}function $(e,n){for(var t=e.length;0<=--t;)e[t]===n&&e.splice(t,1)}function s(e,a){if(e.length<2)return e.slice();function r(e,n){for(var t=[],i=0,r=0,o=0;i<e.length&&r<n.length;)a(e[i],n[r])<=0?t[o++]=e[i++]:t[o++]=n[r++];return i<e.length&&t.push.apply(t,e.slice(i)),r<n.length&&t.push.apply(t,n.slice(r)),t}function o(e){if(e.length<=1)return e;var n=Math.floor(e.length/2),t=e.slice(0,n),i=e.slice(n);return r(t=o(t),i=o(i))}return o(e)}function fe(e){e instanceof Array||(e=e.split(" "));var t="",n=[];e:for(var i=0;i<e.length;++i){for(var r=0;r<n.length;++r)if(n[r][0].length==e[i].length){n[r].push(e[i]);continue e}n.push([e[i]])}function o(e){return JSON.stringify(e).replace(/[\u2028\u2029]/g,function(e){switch(e){case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}return e})}function a(e){if(1==e.length)return t+="return str === "+o(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+o(e[n])+":";t+="return true}return false;"}if(3<n.length){n.sort(function(e,n){return n.length-e.length}),t+="switch(str.length){";for(var i=0;i<n.length;++i){var s=n[i];t+="case "+s[0].length+":",a(s)}t+="}"}else a(e);return new Function("str",t)}function le(e,n){for(var t=e.length;0<=--t;)if(!n(e[t]))return!1;return!0}function z(){this._values=Object.create(null),this._size=0}function pe(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function M(e){for(var n=e.parent(-1),t=0,i;i=e.parent(t);t++){if(i instanceof he&&i.body===n)return!0;if(!(i instanceof Ke&&i.expressions[0]===n||"Call"==i.TYPE&&i.expression===n||i instanceof en&&i.expression===n||i instanceof nn&&i.expression===n||i instanceof sn&&i.condition===n||i instanceof an&&i.left===n||i instanceof on&&i.expression===n))return!1;n=i}}function i(e,n,t,i){arguments.length<4&&(i=de);var r=n=n?n.split(/\s+/):[];i&&i.PROPS&&(n=n.concat(i.PROPS));for(var o="return function AST_"+e+"(props){ if (props) { ",a=n.length;0<=--a;)o+="this."+n[a]+" = props."+n[a]+";";var s=i&&new i;(s&&s.initialize||t&&t.initialize)&&(o+="this.initialize();"),o+="}}";var u=new Function(o)();if(s&&(u.prototype=s,u.BASE=i),i&&i.SUBCLASSES.push(u),(u.prototype.CTOR=u).PROPS=n||null,u.SELF_PROPS=r,u.SUBCLASSES=[],e&&(u.prototype.TYPE=u.TYPE=e),t)for(a in t)pe(t,a)&&(/^\$/.test(a)?u[a.substr(1)]=t[a]:u.prototype[a]=t[a]);return u.DEFMETHOD=function(e,n){this.prototype[e]=n},void 0!==h&&(h["AST_"+e]=u),u}z.prototype={set:function(e,n){return this.has(e)||++this._size,this._values["$"+e]=n,this},add:function(e,n){return this.has(e)?this.get(e).push(n):this.set(e,[n]),this},get:function(e){return this._values["$"+e]},del:function(e){return this.has(e)&&(--this._size,delete this._values["$"+e]),this},has:function(e){return"$"+e in this._values},each:function(e){for(var n in this._values)e(this._values[n],n.substr(1))},size:function(){return this._size},map:function(e){var n=[];for(var t in this._values)n.push(e(this._values[t],t.substr(1)));return n},clone:function(){var e=new z;for(var n in this._values)e._values[n]=this._values[n];return e._size=this._size,e},toObject:function(){return this._values}},z.fromObject=function(e){var n=new z;return n._size=t(n._values,e),n};var q=i("Token","type value line col pos endline endcol endpos nlb comments_before comments_after file raw",{},null),de=i("Node","start end",{_clone:function(e){if(e){var n=this.clone();return n.transform(new et(function(e){if(e!==n)return e.clone(!0)}))}return new this.CTOR(this)},clone:function(e){return this._clone(e)},$documentation:"Base class of all AST nodes",$propdoc:{start:"[AST_Token] The first token of this node",end:"[AST_Token] The last token of this node"},_walk:function(e){return e._visit(this)},walk:function(e){return this._walk(e)}},null);de.warn_function=null,de.warn=function(e,n){de.warn_function&&de.warn_function(O(e,n))};var he=i("Statement",null,{$documentation:"Base class of all statements"}),ve=i("Debugger",null,{$documentation:"Represents a debugger statement"},he),_e=i("Directive","value quote",{$documentation:'Represents a directive, like "use strict";',$propdoc:{value:"[string] The value of this directive as a plain string (it's not an AST_String!)",quote:"[string] the original quote character"}},he),me=i("SimpleStatement","body",{$documentation:"A statement consisting of an expression, i.e. a = 1 + 2",$propdoc:{body:"[AST_Node] an expression node (should not be instanceof AST_Statement)"},_walk:function(e){return e._visit(this,function(){this.body._walk(e)})}},he);function j(e,n){var t=e.body;if(t instanceof he)t._walk(n);else for(var i=0,r=t.length;i<r;i++)t[i]._walk(n)}var ge=i("Block","body",{$documentation:"A body of statements (usually braced)",$propdoc:{body:"[AST_Statement*] an array of statements"},_walk:function(e){return e._visit(this,function(){j(this,e)})}},he),be=i("BlockStatement",null,{$documentation:"A block statement"},ge),ye=i("EmptyStatement",null,{$documentation:"The empty statement (empty block or simply a semicolon)"},he),g=i("StatementWithBody","body",{$documentation:"Base class for all statements that contain one nested body: `For`, `ForIn`, `Do`, `While`, `With`",$propdoc:{body:"[AST_Statement] the body; this should always be present, even if it's an AST_EmptyStatement"}},he),we=i("LabeledStatement","label",{$documentation:"Statement with a label",$propdoc:{label:"[AST_Label] a label definition"},_walk:function(e){return e._visit(this,function(){this.label._walk(e),this.body._walk(e)})},clone:function(e){var n=this._clone(e);if(e){var t=n.label,i=this.label;n.walk(new zn(function(e){e instanceof je&&e.label&&e.label.thedef===i&&(e.label.thedef=t).references.push(e)}))}return n}},g),xe=i("IterationStatement",null,{$documentation:"Internal class.  All loops inherit from it."},g),Ae=i("DWLoop","condition",{$documentation:"Base class for do/while statements",$propdoc:{condition:"[AST_Node] the loop condition.  Should not be instanceof AST_Statement"}},xe),Ee=i("Do",null,{$documentation:"A `do` statement",_walk:function(e){return e._visit(this,function(){this.body._walk(e),this.condition._walk(e)})}},Ae),ke=i("While",null,{$documentation:"A `while` statement",_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e)})}},Ae),De=i("For","init condition step",{$documentation:"A `for` statement",$propdoc:{init:"[AST_Node?] the `for` initialization code, or null if empty",condition:"[AST_Node?] the `for` termination clause, or null if empty",step:"[AST_Node?] the `for` update clause, or null if empty"},_walk:function(e){return e._visit(this,function(){this.init&&this.init._walk(e),this.condition&&this.condition._walk(e),this.step&&this.step._walk(e),this.body._walk(e)})}},xe),Fe=i("ForIn","init object",{$documentation:"A `for ... in` statement",$propdoc:{init:"[AST_Node] the `for/in` initialization code",object:"[AST_Node] the object that we're looping through"},_walk:function(e){return e._visit(this,function(){this.init._walk(e),this.object._walk(e),this.body._walk(e)})}},xe),Ce=i("With","expression",{$documentation:"A `with` statement",$propdoc:{expression:"[AST_Node] the `with` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.body._walk(e)})}},g),Be=i("Scope","variables functions uses_with uses_eval parent_scope enclosed cname",{$documentation:"Base class for all statements introducing a lexical scope",$propdoc:{variables:"[Object/S] a map of name -> SymbolDef for all variables/functions defined in this scope",functions:"[Object/S] like `variables`, but only lists function declarations",uses_with:"[boolean/S] tells whether this scope uses the `with` statement",uses_eval:"[boolean/S] tells whether this scope contains a direct call to the global `eval`",parent_scope:"[AST_Scope?/S] link to the parent scope",enclosed:"[SymbolDef*/S] a list of all symbol definitions that are accessed from this scope or any subscopes",cname:"[integer/S] current index for mangling variables (used internally by the mangler)"},clone:function(e){var n=this._clone(e);return this.variables&&(n.variables=this.variables.clone()),this.functions&&(n.functions=this.functions.clone()),this.enclosed&&(n.enclosed=this.enclosed.slice()),n}},ge),Se=i("Toplevel","globals",{$documentation:"The toplevel scope",$propdoc:{globals:"[Object/S] a map of name -> SymbolDef for all undeclared names"},wrap_commonjs:function(e){var t=this.body,n="(function(exports){'$ORIG';})(typeof "+e+"=='undefined'?("+e+"={}):"+e+");";return n=(n=Qn(n)).transform(new et(function e(n){if(n instanceof _e&&"$ORIG"==n.value)return ce.splice(t)}))}},Be),Te=i("Lambda","name argnames uses_arguments",{$documentation:"Base class for functions",$propdoc:{name:"[AST_SymbolDeclaration?] the name of this function",argnames:"[AST_SymbolFunarg*] array of function arguments",uses_arguments:"[boolean/S] tells whether this function accesses the arguments array"},_walk:function(i){return i._visit(this,function(){this.name&&this.name._walk(i);for(var e=this.argnames,n=0,t=e.length;n<t;n++)e[n]._walk(i);j(this,i)})}},Be),Oe=i("Accessor",null,{$documentation:"A setter/getter function.  The `name` property is always null."},Te),$e=i("Function","inlined",{$documentation:"A function expression"},Te),ze=i("Defun","inlined",{$documentation:"A function definition"},Te),N=i("Jump",null,{$documentation:"Base class for “jumps” (for now that's `return`, `throw`, `break` and `continue`)"},he),Me=i("Exit","value",{$documentation:"Base class for “exits” (`return` and `throw`)",$propdoc:{value:"[AST_Node?] the value returned or thrown by this statement; could be null for AST_Return"},_walk:function(e){return e._visit(this,this.value&&function(){this.value._walk(e)})}},N),qe=i("Return",null,{$documentation:"A `return` statement"},Me),te=i("Throw",null,{$documentation:"A `throw` statement"},Me),je=i("LoopControl","label",{$documentation:"Base class for loop control statements (`break` and `continue`)",$propdoc:{label:"[AST_LabelRef?] the label, or null if none"},_walk:function(e){return e._visit(this,this.label&&function(){this.label._walk(e)})}},N),Ne=i("Break",null,{$documentation:"A `break` statement"},je),He=i("Continue",null,{$documentation:"A `continue` statement"},je),Re=i("If","condition alternative",{$documentation:"A `if` statement",$propdoc:{condition:"[AST_Node] the `if` condition",alternative:"[AST_Statement?] the `else` part, or null if not present"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.body._walk(e),this.alternative&&this.alternative._walk(e)})}},g),Ie=i("Switch","expression",{$documentation:"A `switch` statement",$propdoc:{expression:"[AST_Node] the `switch` “discriminant”"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),j(this,e)})}},ge),H=i("SwitchBranch",null,{$documentation:"Base class for `switch` branches"},ge),Pe=i("Default",null,{$documentation:"A `default` switch branch"},H),Ue=i("Case","expression",{$documentation:"A `case` switch branch",$propdoc:{expression:"[AST_Node] the `case` expression"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e),j(this,e)})}},H),Le=i("Try","bcatch bfinally",{$documentation:"A `try` statement",$propdoc:{bcatch:"[AST_Catch?] the catch block, or null if not present",bfinally:"[AST_Finally?] the finally block, or null if not present"},_walk:function(e){return e._visit(this,function(){j(this,e),this.bcatch&&this.bcatch._walk(e),this.bfinally&&this.bfinally._walk(e)})}},ge),Ve=i("Catch","argname",{$documentation:"A `catch` node; only makes sense as part of a `try` statement",$propdoc:{argname:"[AST_SymbolCatch] symbol for the exception"},_walk:function(e){return e._visit(this,function(){this.argname._walk(e),j(this,e)})}},ge),Ye=i("Finally",null,{$documentation:"A `finally` node; only makes sense as part of a `try` statement"},ge),Je=i("Definitions","definitions",{$documentation:"Base class for `var` nodes (variable declarations/initializations)",$propdoc:{definitions:"[AST_VarDef*] array of variable definitions"},_walk:function(i){return i._visit(this,function(){for(var e=this.definitions,n=0,t=e.length;n<t;n++)e[n]._walk(i)})}},he),We=i("Var",null,{$documentation:"A `var` statement"},Je),Ge=i("VarDef","name value",{$documentation:"A variable declaration; only appears in a AST_Definitions node",$propdoc:{name:"[AST_SymbolVar] name of the variable",value:"[AST_Node?] initializer, or null of there's no initializer"},_walk:function(e){return e._visit(this,function(){this.name._walk(e),this.value&&this.value._walk(e)})}}),Xe=i("Call","expression args",{$documentation:"A function call expression",$propdoc:{expression:"[AST_Node] expression to invoke as function",args:"[AST_Node*] array of arguments"},_walk:function(i){return i._visit(this,function(){for(var e=this.args,n=0,t=e.length;n<t;n++)e[n]._walk(i);this.expression._walk(i)})}}),Ze=i("New",null,{$documentation:"An object instantiation.  Derives from a function call since it has exactly the same properties"},Xe),Ke=i("Sequence","expressions",{$documentation:"A sequence expression (comma-separated expressions)",$propdoc:{expressions:"[AST_Node*] array of expressions (at least two)"},_walk:function(n){return n._visit(this,function(){this.expressions.forEach(function(e){e._walk(n)})})}}),Qe=i("PropAccess","expression property",{$documentation:'Base class for property access expressions, i.e. `a.foo` or `a["foo"]`',$propdoc:{expression:"[AST_Node] the “container” expression",property:"[AST_Node|string] the property to access.  For AST_Dot this is always a plain string, while for AST_Sub it's an arbitrary AST_Node"}}),en=i("Dot",null,{$documentation:"A dotted property access expression",_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}},Qe),nn=i("Sub",null,{$documentation:'Index-style property access, i.e. `a["foo"]`',_walk:function(e){return e._visit(this,function(){this.expression._walk(e),this.property._walk(e)})}},Qe),tn=i("Unary","operator expression",{$documentation:"Base class for unary expressions",$propdoc:{operator:"[string] the operator",expression:"[AST_Node] expression that this unary operator applies to"},_walk:function(e){return e._visit(this,function(){this.expression._walk(e)})}}),rn=i("UnaryPrefix",null,{$documentation:"Unary prefix expression, i.e. `typeof i` or `++i`"},tn),on=i("UnaryPostfix",null,{$documentation:"Unary postfix expression, i.e. `i++`"},tn),an=i("Binary","operator left right",{$documentation:"Binary expression, i.e. `a + b`",$propdoc:{left:"[AST_Node] left-hand side expression",operator:"[string] the operator",right:"[AST_Node] right-hand side expression"},_walk:function(e){return e._visit(this,function(){this.left._walk(e),this.right._walk(e)})}}),sn=i("Conditional","condition consequent alternative",{$documentation:"Conditional expression using the ternary operator, i.e. `a ? b : c`",$propdoc:{condition:"[AST_Node]",consequent:"[AST_Node]",alternative:"[AST_Node]"},_walk:function(e){return e._visit(this,function(){this.condition._walk(e),this.consequent._walk(e),this.alternative._walk(e)})}}),un=i("Assign",null,{$documentation:"An assignment expression — `a = b + 5`"},an),cn=i("Array","elements",{$documentation:"An array literal",$propdoc:{elements:"[AST_Node*] array of elements"},_walk:function(i){return i._visit(this,function(){for(var e=this.elements,n=0,t=e.length;n<t;n++)e[n]._walk(i)})}}),fn=i("Object","properties",{$documentation:"An object literal",$propdoc:{properties:"[AST_ObjectProperty*] array of properties"},_walk:function(i){return i._visit(this,function(){for(var e=this.properties,n=0,t=e.length;n<t;n++)e[n]._walk(i)})}}),R=i("ObjectProperty","key value",{$documentation:"Base class for literal object properties",$propdoc:{key:"[string|AST_SymbolAccessor] property name. For ObjectKeyVal this is a string. For getters and setters this is an AST_SymbolAccessor.",value:"[AST_Node] property value.  For getters and setters this is an AST_Accessor."},_walk:function(e){return e._visit(this,function(){this.value._walk(e)})}}),ln=i("ObjectKeyVal","quote",{$documentation:"A key: value object property",$propdoc:{quote:"[string] the original quote character"}},R),ie=i("ObjectSetter",null,{$documentation:"An object setter property"},R),re=i("ObjectGetter",null,{$documentation:"An object getter property"},R),I=i("Symbol","scope name thedef",{$propdoc:{name:"[string] name of this symbol",scope:"[AST_Scope/S] the current scope (not necessarily the definition scope)",thedef:"[SymbolDef/S] the definition of this symbol"},$documentation:"Base class for all symbols"}),oe=i("SymbolAccessor",null,{$documentation:"The name of a property accessor (setter/getter function)"},I),pn=i("SymbolDeclaration","init",{$documentation:"A declaration symbol (symbol in var, function name or argument, symbol in catch)"},I),dn=i("SymbolVar",null,{$documentation:"Symbol defining a variable"},pn),hn=i("SymbolFunarg",null,{$documentation:"Symbol naming a function argument"},dn),vn=i("SymbolDefun",null,{$documentation:"Symbol defining a function"},pn),_n=i("SymbolLambda",null,{$documentation:"Symbol naming a function expression"},pn),mn=i("SymbolCatch",null,{$documentation:"Symbol naming the exception in catch"},pn),gn=i("Label","references",{$documentation:"Symbol naming a label (declaration)",$propdoc:{references:"[AST_LoopControl*] a list of nodes referring to this label"},initialize:function(){this.references=[],this.thedef=this}},I),bn=i("SymbolRef",null,{$documentation:"Reference to some symbol (not definition/declaration)"},I),yn=i("LabelRef",null,{$documentation:"Reference to a label symbol"},I),wn=i("This",null,{$documentation:"The `this` symbol"},I),xn=i("Constant",null,{$documentation:"Base class for all constants",getValue:function(){return this.value}}),An=i("String","value quote",{$documentation:"A string literal",$propdoc:{value:"[string] the contents of this string",quote:"[string] the original quote character"}},xn),En=i("Number","value literal",{$documentation:"A number literal",$propdoc:{value:"[number] the numeric value",literal:"[string] numeric value as string (optional)"}},xn),kn=i("RegExp","value",{$documentation:"A regexp literal",$propdoc:{value:"[RegExp] the actual regexp"}},xn),a=i("Atom",null,{$documentation:"Base class for atoms"},xn),Dn=i("Null",null,{$documentation:"The `null` atom",value:null},a),Fn=i("NaN",null,{$documentation:"The impossible value",value:NaN},a),Cn=i("Undefined",null,{$documentation:"The `undefined` value",value:void 0},a),Bn=i("Hole",null,{$documentation:"A hole in an array",value:void 0},a),Sn=i("Infinity",null,{$documentation:"The `Infinity` value",value:1/0},a),Tn=i("Boolean",null,{$documentation:"Base class for booleans"},a),On=i("False",null,{$documentation:"The `false` atom",value:!1},Tn),$n=i("True",null,{$documentation:"The `true` atom",value:!0},Tn);function zn(e){this.visit=e,this.stack=[],this.directives=Object.create(null)}zn.prototype={_visit:function(e,n){this.push(e);var t=this.visit(e,n?function(){n.call(e)}:Z);return!t&&n&&n.call(e),this.pop(),t},parent:function(e){return this.stack[this.stack.length-2-(e||0)]},push:function(e){e instanceof Te?this.directives=Object.create(this.directives):e instanceof _e&&!this.directives[e.value]&&(this.directives[e.value]=e),this.stack.push(e)},pop:function(){this.stack.pop()instanceof Te&&(this.directives=Object.getPrototypeOf(this.directives))},self:function(){return this.stack[this.stack.length-1]},find_parent:function(e){for(var n=this.stack,t=n.length;0<=--t;){var i=n[t];if(i instanceof e)return i}},has_directive:function(e){var n=this.directives[e];if(n)return n;var t=this.stack[this.stack.length-1];if(t instanceof Be)for(var i=0;i<t.body.length;++i){var r=t.body[i];if(!(r instanceof _e))break;if(r.value==e)return r}},loopcontrol_target:function(e){var n=this.stack;if(e.label)for(var t=n.length;0<=--t;){var i;if((i=n[t])instanceof we&&i.label.name==e.label.name)return i.body}else for(var t=n.length;0<=--t;){var i;if((i=n[t])instanceof xe||e instanceof Ne&&i instanceof Ie)return i}},in_boolean_context:function(){for(var e=this.self(),n=0,t;t=this.parent(n);n++){if(t instanceof me||t instanceof sn&&t.condition===e||t instanceof Ae&&t.condition===e||t instanceof De&&t.condition===e||t instanceof Re&&t.condition===e||t instanceof rn&&"!"==t.operator&&t.expression===e)return!0;if(!(t instanceof an&&("&&"==t.operator||"||"==t.operator)||t instanceof sn||t.tail_node()===e))return!1;e=t}}};var Mn="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with",P="false null true",b="abstract boolean byte char class double enum export extends final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield "+P+" "+Mn,U="return new delete throw else case";Mn=fe(Mn),b=fe(b),U=fe(U),P=fe(P);var L=fe(e("+-*&%=<>!?|~^")),r=/^0x[0-9a-f]+$/i,V=/^0[0-7]+$/,Y=fe(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]),W=fe(e("  \n\r\t\f\v​           \u2028\u2029  　\ufeff")),G=fe(e("\n\r\u2028\u2029")),X=fe(e("[{(,;:")),Q=fe(e("[]{}(),;:")),u={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};function c(e){return 97<=e&&e<=122||65<=e&&e<=90||170<=e&&u.letter.test(String.fromCharCode(e))}function ee(e){return"string"==typeof e&&(e=e.charCodeAt(0)),55296<=e&&e<=56319}function qn(e){return"string"==typeof e&&(e=e.charCodeAt(0)),56320<=e&&e<=57343}function jn(e){return 48<=e&&e<=57}function Nn(e){return jn(e)||c(e)}function f(e){return u.digit.test(String.fromCharCode(e))}function l(e){return u.non_spacing_mark.test(e)||u.space_combining_mark.test(e)}function p(e){return u.connector_punctuation.test(e)}function d(e){return!b(e)&&/^[a-z_$][a-z0-9_$]*$/i.test(e)}function Hn(e){return 36==e||95==e||c(e)}function Rn(e){var n=e.charCodeAt(0);return Hn(n)||jn(n)||8204==n||8205==n||l(e)||p(e)||f(n)}function In(e){return/^[a-z_$][a-z0-9_$]*$/i.test(e)}function Pn(e){if(r.test(e))return parseInt(e.substr(2),16);if(V.test(e))return parseInt(e.substr(1),8);var n=parseFloat(e);return n==e?n:void 0}function Un(e,n,t,i,r){this.message=e,this.filename=n,this.line=t,this.col=i,this.pos=r}function Ln(e,n,t,i,r){throw new Un(e,n,t,i,r)}function Vn(e,n,t){return e.type==n&&(null==t||e.value==t)}((Un.prototype=Object.create(Error.prototype)).constructor=Un).prototype.name="SyntaxError",n(Un);var Yn={};function Jn(r,o,a,s){var u={text:r,filename:o,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:!1,regex_allowed:!1,comments_before:[],directives:{},directive_stack:[]};function c(){return u.text.charAt(u.pos)}function f(e,n){var t=u.text.charAt(u.pos++);if(e&&!t)throw Yn;return G(t)?(u.newline_before=u.newline_before||!n,++u.line,u.col=0,n||"\r"!=t||"\n"!=c()||(++u.pos,t="\n")):++u.col,t}function l(e){for(;0<e--;)f()}function p(e){return u.text.substr(u.pos,e.length)==e}function d(){for(var e=u.text,n=u.pos,t=u.text.length;n<t;++n){var i=e[n];if(G(i))return n}return-1}function i(e,n){var t=u.text.indexOf(e,u.pos);if(n&&-1==t)throw Yn;return t}function h(){u.tokline=u.line,u.tokcol=u.col,u.tokpos=u.pos}var v=!1;function _(e,n,t){u.regex_allowed="operator"==e&&!Gn(n)||"keyword"==e&&U(n)||"punc"==e&&X(n),"punc"==e&&"."==n?v=!0:t||(v=!1);var i={type:e,value:n,line:u.tokline,col:u.tokcol,pos:u.tokpos,endline:u.line,endcol:u.col,endpos:u.pos,nlb:u.newline_before,file:o};return/^(?:num|string|regexp)$/i.test(e)&&(i.raw=r.substring(i.pos,i.endpos)),t||(i.comments_before=u.comments_before,i.comments_after=u.comments_before=[]),u.newline_before=!1,new q(i)}function m(){for(;W(c());)f()}function t(e){for(var n="",t,i=0;(t=c())&&e(t,i++);)n+=f();return n}function g(e){Ln(e,o,u.tokline,u.tokcol,u.tokpos)}function b(i){var r=!1,o=!1,a=!1,s="."==i,e=t(function(e,n){var t=e.charCodeAt(0);switch(t){case 120:case 88:return!a&&(a=!0);case 101:case 69:return!!a||!r&&(r=o=!0);case 45:return o||0==n&&!i;case 43:return o;case o=!1,46:return!(s||a||r)&&(s=!0)}return Nn(t)});i&&(e=i+e),V.test(e)&&T.has_directive("use strict")&&g("Legacy octal literals are not allowed in strict mode");var n=Pn(e);if(!isNaN(n))return _("num",n);g("Invalid syntax: "+e)}function y(e){var n=f(!0,e);switch(n.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 120:return String.fromCharCode(x(2));case 117:return String.fromCharCode(x(4));case 10:return"";case 13:if("\n"==c())return f(!0,e),""}return"0"<=n&&n<="7"?w(n):n}function w(e){var n=c();return"0"<=n&&n<="7"&&(e+=f(!0))[0]<="3"&&"0"<=(n=c())&&n<="7"&&(e+=f(!0)),"0"===e?"\0":(0<e.length&&T.has_directive("use strict")&&g("Legacy octal escape sequences are not allowed in strict mode"),String.fromCharCode(parseInt(e,8)))}function x(e){for(var n=0;0<e;--e){var t=parseInt(f(!0),16);isNaN(t)&&g("Invalid hex-character pattern in string"),n=n<<4|t}return n}var A=n("Unterminated string constant",function(e){for(var n=f(),t="";;){var i=f(!0,!0);if("\\"==i)i=y(!0);else if(G(i))g("Unterminated string constant");else if(i==n)break;t+=i}var r=_("string",t);return r.quote=e,r});function E(e){var n=u.regex_allowed,t=d(),i;return-1==t?(i=u.text.substr(u.pos),u.pos=u.text.length):(i=u.text.substring(u.pos,t),u.pos=t),u.col=u.tokcol+(u.pos-u.tokpos),u.comments_before.push(_(e,i,!0)),u.regex_allowed=n,T}var e=n("Unterminated multiline comment",function(){var e=u.regex_allowed,n=i("*/",!0),t=u.text.substring(u.pos,n).replace(/\r\n|\r|\u2028|\u2029/g,"\n");return l(t.length+2),u.comments_before.push(_("comment2",t,!0)),u.regex_allowed=e,T});function k(){for(var e=!1,n="",t,i=!1,r;null!=(t=c());)if(e)"u"!=t&&g("Expecting UnicodeEscapeSequence -- uXXXX"),Rn(t=y())||g("Unicode char: "+t.charCodeAt(0)+" is not valid in identifier"),n+=t,e=!1;else if("\\"==t)i=e=!0,f();else{if(!Rn(t))break;n+=f()}return Mn(n)&&i&&(r=n.charCodeAt(0).toString(16).toUpperCase(),n="\\u"+"0000".substr(r.length)+r+n.slice(1)),n}var D=n("Unterminated regular expression",function(e){for(var n=!1,t,i=!1;t=f(!0);)if(G(t))g("Unexpected line terminator");else if(n)e+="\\"+t,n=!1;else if("["==t)i=!0,e+=t;else if("]"==t&&i)i=!1,e+=t;else{if("/"==t&&!i)break;"\\"==t?n=!0:e+=t}var r=k();try{var o=new RegExp(e,r);return o.raw_source=e,_("regexp",o)}catch(e){g(e.message)}});function F(e){function t(e){if(!c())return e;var n=e+c();return Y(n)?(f(),t(n)):e}return _("operator",t(e||f()))}function C(){switch(f(),c()){case"/":return f(),E("comment1");case"*":return f(),e()}return u.regex_allowed?D(""):F("/")}function B(){return f(),jn(c().charCodeAt(0))?b("."):_("punc",".")}function S(){var e=k();return v?_("name",e):P(e)?_("atom",e):Mn(e)?Y(e)?_("operator",e):_("keyword",e):_("name",e)}function n(n,t){return function(e){try{return t(e)}catch(e){if(e!==Yn)throw e;g(n)}}}function T(e){if(null!=e)return D(e);for(s&&0==u.pos&&p("#!")&&(h(),l(2),E("comment5"));;){if(m(),h(),a){if(p("\x3c!--")){l(4),E("comment3");continue}if(p("--\x3e")&&u.newline_before){l(3),E("comment4");continue}}var n=c();if(!n)return _("eof");var t=n.charCodeAt(0);switch(t){case 34:case 39:return A(n);case 46:return B();case 47:var i=C();if(i===T)continue;return i}if(jn(t))return b();if(Q(n))return _("punc",f());if(L(n))return F();if(92==t||Hn(t))return S();break}g("Unexpected character '"+n+"'")}return T.context=function(e){return e&&(u=e),u},T.add_directive=function(e){u.directive_stack[u.directive_stack.length-1].push(e),void 0===u.directives[e]?u.directives[e]=1:u.directives[e]++},T.push_directives_stack=function(){u.directive_stack.push([])},T.pop_directives_stack=function(){for(var e=u.directive_stack[u.directive_stack.length-1],n=0;n<e.length;n++)u.directives[e[n]]--;u.directive_stack.pop()},T.has_directive=function(e){return 0<u.directives[e]},T}var Wn=fe(["typeof","void","delete","--","++","!","~","-","+"]),Gn=fe(["--","++"]),Xn=fe(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]),Zn=function(e,n){for(var t=0;t<e.length;++t)for(var i=e[t],r=0;r<i.length;++r)n[i[r]]=t+1;return n}([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{}),Kn=fe(["atom","num","string","regexp","name"]);function Qn(e,u){u=ne(u,{bare_returns:!1,expression:!1,filename:null,html5_comments:!0,shebang:!0,strict:!1,toplevel:null},!0);var c={input:"string"==typeof e?Jn(e,u.filename,u.html5_comments,u.shebang):e,token:null,prev:null,peeked:null,in_function:0,in_directives:!0,in_loop:0,labels:[]};function f(e,n){return Vn(c.token,e,n)}function l(){return c.peeked||(c.peeked=c.input())}function p(){return c.prev=c.token,c.peeked?(c.token=c.peeked,c.peeked=null):c.token=c.input(),c.in_directives=c.in_directives&&("string"==c.token.type||f("punc",";")),c.token}function d(){return c.prev}function h(e,n,t,i){var r=c.input.context();Ln(e,r.filename,null!=n?n:r.tokline,null!=t?t:r.tokcol,null!=i?i:r.tokpos)}function t(e,n){h(n,e.line,e.col)}function v(e){null==e&&(e=c.token),t(e,"Unexpected token: "+e.type+" ("+e.value+")")}function _(e,n){if(f(e,n))return p();t(c.token,"Unexpected token "+c.token.type+" «"+c.token.value+"», expected "+e+" «"+n+"»")}function m(e){return _("punc",e)}function g(e){return e.nlb||!le(e.comments_before,function(e){return!e.nlb})}function b(){return!u.strict&&(f("eof")||f("punc","}")||g(c.token))}function y(e){f("punc",";")?p():e||b()||v()}function w(){m("(");var e=Q(!0);return m(")"),e}function n(i){return function(){var e=c.token,n=i.apply(null,arguments),t=d();return n.start=e,n.end=t,n}}function x(){(f("operator","/")||f("operator","/="))&&(c.peeked=null,c.token=c.input(c.token.value.substr(1)))}c.token=p();var A=n(function(e){switch(x(),c.token.type){case"string":if(c.in_directives){var n=l();-1==c.token.raw.indexOf("\\")&&(Vn(n,"punc",";")||Vn(n,"punc","}")||g(n)||Vn(n,"eof"))?c.input.add_directive(c.token.value):c.in_directives=!1}var t=c.in_directives,i=k();return t?new _e(i.body):i;case"num":case"regexp":case"operator":case"atom":return k();case"name":return Vn(l(),"punc",":")?E():k();case"punc":switch(c.token.value){case"{":return new be({start:c.token,body:S(),end:d()});case"[":case"(":return k();case";":return c.in_directives=!1,p(),new ye;default:v()}case"keyword":switch(c.token.value){case"break":return p(),D(Ne);case"continue":return p(),D(He);case"debugger":return p(),y(),new ve;case"do":p();var r=ee(A);_("keyword","while");var o=w();return y(!0),new Ee({body:r,condition:o});case"while":return p(),new ke({condition:w(),body:ee(A)});case"for":return p(),F();case"function":return!e&&c.input.has_directive("use strict")&&h("In strict mode code, functions can only be declared at top level or immediately within another function."),p(),C(ze);case"if":return p(),B();case"return":0!=c.in_function||u.bare_returns||h("'return' outside of function"),p();var a=null;return f("punc",";")?p():b()||(a=Q(!0),y()),new qe({value:a});case"switch":return p(),new Ie({expression:w(),body:ee(T)});case"throw":p(),g(c.token)&&h("Illegal newline after 'throw'");var a=Q(!0);return y(),new te({value:a});case"try":return p(),O();case"var":p();var s=$();return y(),s;case"with":return c.input.has_directive("use strict")&&h("Strict mode may not include a with statement"),p(),new Ce({expression:w(),body:A()})}}v()});function E(){var n=U(gn);se(function(e){return e.name==n.name},c.labels)&&h("Label "+n.name+" defined twice"),m(":"),c.labels.push(n);var e=A();return c.labels.pop(),e instanceof xe||n.references.forEach(function(e){e instanceof He&&(e=e.label.start,h("Continue label `"+n.name+"` refers to non-IterationStatement.",e.line,e.col,e.pos))}),new we({body:e,label:n})}function k(e){return new me({body:(e=Q(!0),y(),e)})}function D(e){var n=null,t;b()||(n=U(yn,!0)),null!=n?((t=se(function(e){return e.name==n.name},c.labels))||h("Undefined label "+n.name),n.thedef=t):0==c.in_loop&&h(e.TYPE+" not inside a loop or switch"),y();var i=new e({label:n});return t&&t.references.push(i),i}function F(){m("(");var e=null;return!f("punc",";")&&(e=f("keyword","var")?(p(),$(!0)):Q(!0,!0),f("operator","in"))?(e instanceof We?1<e.definitions.length&&h("Only one variable declaration allowed in for..in loop",e.start.line,e.start.col,e.start.pos):Z(e)||h("Invalid left-hand side in for..in loop",e.start.line,e.start.col,e.start.pos),p(),r(e)):i(e)}function i(e){m(";");var n=f("punc",";")?null:Q(!0);m(";");var t=f("punc",")")?null:Q(!0);return m(")"),new De({init:e,condition:n,step:t,body:ee(A)})}function r(e){var n=Q(!0);return m(")"),new Fe({init:e,object:n,body:ee(A)})}var C=function(e){var n=e===ze,t=f("name")?U(n?vn:_n):null;n&&!t&&v(),!t||e===Oe||t instanceof pn||v(d()),m("(");for(var i=[],r=!0;!f("punc",")");)r?r=!1:m(","),i.push(U(hn));p();var o=c.in_loop,a=c.labels;++c.in_function,c.in_directives=!0,c.input.push_directives_stack(),c.in_loop=0,c.labels=[];var s=S(!0);return c.input.has_directive("use strict")&&(t&&P(t),i.forEach(P)),c.input.pop_directives_stack(),--c.in_function,c.in_loop=o,c.labels=a,new e({name:t,argnames:i,body:s})};function B(){var e=w(),n=A(),t=null;return f("keyword","else")&&(p(),t=A()),new Re({condition:e,body:n,alternative:t})}function S(e){m("{");for(var n=[];!f("punc","}");)f("eof")&&v(),n.push(A(e));return p(),n}function T(){m("{");for(var e=[],n=null,t=null,i;!f("punc","}");)f("eof")&&v(),f("keyword","case")?(t&&(t.end=d()),n=[],t=new Ue({start:(i=c.token,p(),i),expression:Q(!0),body:n}),e.push(t),m(":")):f("keyword","default")?(t&&(t.end=d()),n=[],t=new Pe({start:(i=c.token,p(),m(":"),i),body:n}),e.push(t)):(n||v(),n.push(A()));return t&&(t.end=d()),p(),e}function O(){var e=S(),n=null,t=null;if(f("keyword","catch")){var i=c.token;p(),m("(");var r=U(mn);m(")"),n=new Ve({start:i,argname:r,body:S(),end:d()})}if(f("keyword","finally")){var i=c.token;p(),t=new Ye({start:i,body:S(),end:d()})}return n||t||h("Missing catch/finally blocks"),new Le({body:e,bcatch:n,bfinally:t})}function o(e){for(var n=[];n.push(new Ge({start:c.token,name:U(dn),value:f("operator","=")?(p(),Q(!1,e)):null,end:d()})),f("punc",",");)p();return n}var $=function(e){return new We({start:d(),definitions:o(e),end:d()})},s=function(e){var n=c.token;_("operator","new");var t=a(!1),i;f("punc","(")?(p(),i=M(")")):i=[];var r=new Ze({start:n,expression:t,args:i,end:d()});return L(r),V(r,e)};function z(){var e=c.token,n;switch(e.type){case"name":n=I(bn);break;case"num":n=new En({start:e,end:e,value:e.value});break;case"string":n=new An({start:e,end:e,value:e.value,quote:e.quote});break;case"regexp":n=new kn({start:e,end:e,value:e.value});break;case"atom":switch(e.value){case"false":n=new On({start:e,end:e});break;case"true":n=new $n({start:e,end:e});break;case"null":n=new Dn({start:e,end:e})}}return p(),n}var a=function(e){if(f("operator","new"))return s(e);var n=c.token;if(f("punc")){switch(n.value){case"(":p();var t=Q(!0),i=n.comments_before.length;if([].unshift.apply(t.start.comments_before,n.comments_before),n.comments_before=t.start.comments_before,0==(n.comments_before_length=i)&&0<n.comments_before.length){var r=n.comments_before[0];r.nlb||(r.nlb=n.nlb,n.nlb=!1)}n.comments_after=t.start.comments_after,t.start=n,m(")");var o=d();return o.comments_before=t.end.comments_before,[].push.apply(t.end.comments_after,o.comments_after),o.comments_after=t.end.comments_after,t.end=o,t instanceof Xe&&L(t),V(t,e);case"[":return V(q(),e);case"{":return V(N(),e)}v()}if(f("keyword","function")){p();var a=C($e);return a.start=n,a.end=d(),V(a,e)}if(Kn(c.token.type))return V(z(),e);v()};function M(e,n,t){for(var i=!0,r=[];!f("punc",e)&&(i?i=!1:m(","),!n||!f("punc",e));)f("punc",",")&&t?r.push(new Bn({start:c.token,end:c.token})):r.push(Q(!1));return p(),r}var q=n(function(){return m("["),new cn({elements:M("]",!u.strict,!0)})}),j=n(function(){return C(Oe)}),N=n(function(){m("{");for(var e=!0,n=[];!f("punc","}")&&(e?e=!1:m(","),u.strict||!f("punc","}"));){var t=c.token,i=t.type,r=H();if("name"==i&&!f("punc",":")){var o=new oe({start:c.token,name:""+H(),end:d()});if("get"==r){n.push(new re({start:t,key:o,value:j(),end:d()}));continue}if("set"==r){n.push(new ie({start:t,key:o,value:j(),end:d()}));continue}}m(":"),n.push(new ln({start:t,quote:t.quote,key:""+r,value:Q(!1),end:d()}))}return p(),new fn({properties:n})});function H(){var e=c.token;switch(e.type){case"operator":Mn(e.value)||v();case"num":case"string":case"name":case"keyword":case"atom":return p(),e.value;default:v()}}function R(){var e=c.token;return"name"!=e.type&&v(),p(),e.value}function I(e){var n=c.token.value;return new("this"==n?wn:e)({name:String(n),start:c.token,end:c.token})}function P(e){"arguments"!=e.name&&"eval"!=e.name||h("Unexpected "+e.name+" in strict mode",e.start.line,e.start.col,e.start.pos)}function U(e,n){if(!f("name"))return n||h("Name expected"),null;var t=I(e);return c.input.has_directive("use strict")&&t instanceof pn&&P(t),p(),t}function L(e){for(var n=e.start,t=n.comments_before,i=pe(n,"comments_before_length")?n.comments_before_length:t.length;0<=--i;){var r=t[i];if(/[@#]__PURE__/.test(r.value)){e.pure=r;break}}}var V=function(e,n){var t=e.start;if(f("punc","."))return p(),V(new en({start:t,expression:e,property:R(),end:d()}),n);if(f("punc","[")){p();var i=Q(!0);return m("]"),V(new nn({start:t,expression:e,property:i,end:d()}),n)}if(n&&f("punc","(")){p();var r=new Xe({start:t,expression:e,args:M(")"),end:d()});return L(r),V(r,!0)}return e},Y=function(e){var n=c.token;if(f("operator")&&Wn(n.value)){p(),x();var t=J(rn,n,Y(e));return t.start=n,t.end=d(),t}for(var i=a(e);f("operator")&&Gn(c.token.value)&&!g(c.token);)(i=J(on,c.token,i)).start=n,i.end=c.token,p();return i};function J(e,n,t){var i=n.value;switch(i){case"++":case"--":Z(t)||h("Invalid use of "+i+" operator",n.line,n.col,n.pos);break;case"delete":t instanceof bn&&c.input.has_directive("use strict")&&h("Calling delete on expression not allowed in strict mode",t.start.line,t.start.col,t.start.pos)}return new e({operator:i,expression:t})}var W=function(e,n,t){var i=f("operator")?c.token.value:null;"in"==i&&t&&(i=null);var r=null!=i?Zn[i]:null;if(null!=r&&n<r){p();var o=W(Y(!0),r,t);return W(new an({start:e.start,left:e,operator:i,right:o,end:o.end}),n,t)}return e};function G(e){return W(Y(!0),0,e)}var X=function(e){var n=c.token,t=G(e);if(f("operator","?")){p();var i=Q(!1);return m(":"),new sn({start:n,condition:t,consequent:i,alternative:Q(!1,e),end:d()})}return t};function Z(e){return e instanceof Qe||e instanceof bn}var K=function(e){var n=c.token,t=X(e),i=c.token.value;if(f("operator")&&Xn(i)){if(Z(t))return p(),new un({start:n,left:t,operator:i,right:K(e),end:d()});h("Invalid assignment")}return t},Q=function(e,n){for(var t=c.token,i=[];i.push(K(n)),e&&f("punc",",");)p(),e=!0;return 1==i.length?i[0]:new Ke({start:t,expressions:i,end:l()})};function ee(e){++c.in_loop;var n=e();return--c.in_loop,n}return u.expression?Q(!0):function(){var e=c.token,n=[];for(c.input.push_directives_stack();!f("eof");)n.push(A(!0));c.input.pop_directives_stack();var t=d(),i=u.toplevel;return i?(i.body=i.body.concat(n),i.end=t):i=new Se({start:e,body:n,end:t}),i}()}function et(e,n){zn.call(this),this.before=e,this.after=n}function _(e,n,t){this.name=n.name,this.orig=[n],this.init=t,this.eliminated=0,this.scope=e,this.references=[],this.replaced=0,this.global=!1,this.mangled_name=null,this.undeclared=!1,this.id=_.next_id++}function m(e,n){var t=e.names_in_use;return t||(e.names_in_use=t=Object.create(e.mangled_names||null),e.cname_holes=[],e.enclosed.forEach(function(e){e.unmangleable(n)&&(t[e.name]=!0)})),t}function y(e,i,n){var t=m(e,i),r=e.cname_holes,o=Object.create(null);if(e instanceof $e&&e.name&&n.orig[0]instanceof hn){var a=e.name.definition();o[a.mangled_name||a.name]=!0}var s=[e],u;n.references.forEach(function(e){var n=e.scope;do{if(!(s.indexOf(n)<0))break;for(var t in m(n,i))o[t]=!0;s.push(n)}while(n=n.parent_scope)});for(var c=0,f=r.length;c<f;c++)if(u=x(r[c]),!o[u])return r.splice(c,1),e.names_in_use[u]=!0,u;for(;;)if(!t[u=x(++e.cname)]&&d(u)&&!ae(u,i.reserved)){if(!o[u])break;r.push(e.cname)}return e.names_in_use[u]=!0,i.ie8&&n.orig[0]instanceof _n&&(m(e.parent_scope,i)[u]=!0),u}function w(e){return e=ne(e,{eval:!1,ie8:!1,keep_fnames:!1,reserved:[],toplevel:!1}),Array.isArray(e.reserved)||(e.reserved=[]),v(e.reserved,"arguments"),e}et.prototype=new zn,function(o){function e(e,r){e.DEFMETHOD("transform",function(e,n){var t,i;return e.push(this),e.before&&(t=e.before(this,r,n)),t===o&&(r(t=this,e),e.after&&(i=e.after(t,n))!==o&&(t=i)),e.pop(),t})}function t(e,n){return ce(e,function(e){return e.transform(n,!0)})}e(de,Z),e(we,function(e,n){e.label=e.label.transform(n),e.body=e.body.transform(n)}),e(me,function(e,n){e.body=e.body.transform(n)}),e(ge,function(e,n){e.body=t(e.body,n)}),e(Ae,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n)}),e(De,function(e,n){e.init&&(e.init=e.init.transform(n)),e.condition&&(e.condition=e.condition.transform(n)),e.step&&(e.step=e.step.transform(n)),e.body=e.body.transform(n)}),e(Fe,function(e,n){e.init=e.init.transform(n),e.object=e.object.transform(n),e.body=e.body.transform(n)}),e(Ce,function(e,n){e.expression=e.expression.transform(n),e.body=e.body.transform(n)}),e(Me,function(e,n){e.value&&(e.value=e.value.transform(n))}),e(je,function(e,n){e.label&&(e.label=e.label.transform(n))}),e(Re,function(e,n){e.condition=e.condition.transform(n),e.body=e.body.transform(n),e.alternative&&(e.alternative=e.alternative.transform(n))}),e(Ie,function(e,n){e.expression=e.expression.transform(n),e.body=t(e.body,n)}),e(Ue,function(e,n){e.expression=e.expression.transform(n),e.body=t(e.body,n)}),e(Le,function(e,n){e.body=t(e.body,n),e.bcatch&&(e.bcatch=e.bcatch.transform(n)),e.bfinally&&(e.bfinally=e.bfinally.transform(n))}),e(Ve,function(e,n){e.argname=e.argname.transform(n),e.body=t(e.body,n)}),e(Je,function(e,n){e.definitions=t(e.definitions,n)}),e(Ge,function(e,n){e.name=e.name.transform(n),e.value&&(e.value=e.value.transform(n))}),e(Te,function(e,n){e.name&&(e.name=e.name.transform(n)),e.argnames=t(e.argnames,n),e.body=t(e.body,n)}),e(Xe,function(e,n){e.expression=e.expression.transform(n),e.args=t(e.args,n)}),e(Ke,function(e,n){e.expressions=t(e.expressions,n)}),e(en,function(e,n){e.expression=e.expression.transform(n)}),e(nn,function(e,n){e.expression=e.expression.transform(n),e.property=e.property.transform(n)}),e(tn,function(e,n){e.expression=e.expression.transform(n)}),e(an,function(e,n){e.left=e.left.transform(n),e.right=e.right.transform(n)}),e(sn,function(e,n){e.condition=e.condition.transform(n),e.consequent=e.consequent.transform(n),e.alternative=e.alternative.transform(n)}),e(cn,function(e,n){e.elements=t(e.elements,n)}),e(fn,function(e,n){e.properties=t(e.properties,n)}),e(R,function(e,n){e.value=e.value.transform(n)})}(),_.next_id=1,_.prototype={unmangleable:function(e){return e||(e={}),this.global&&!e.toplevel||this.undeclared||!e.eval&&(this.scope.uses_eval||this.scope.uses_with)||e.keep_fnames&&(this.orig[0]instanceof _n||this.orig[0]instanceof vn)},mangle:function(e){var n=e.cache&&e.cache.props;if(this.global&&n&&n.has(this.name))this.mangled_name=n.get(this.name);else if(!this.mangled_name&&!this.unmangleable(e)){var t;(t=this.redefined())?this.mangled_name=t.mangled_name||t.name:this.mangled_name=y(this.scope,e,this),this.global&&n&&n.set(this.name,this.mangled_name)}},redefined:function(){return this.defun&&this.defun.variables.get(this.name)}},Se.DEFMETHOD("figure_out_scope",function(c){c=ne(c,{cache:null,ie8:!1});var a=this,f=a.parent_scope=null,l=new z,p=null,s=new zn(function(e,n){if(e instanceof Ve){var t=f;return(f=new Be(e)).init_scope_vars(t),n(),f=t,!0}if(e instanceof Be){e.init_scope_vars(f);var t=f,i=p,r=l;return p=f=e,l=new z,n(),f=t,p=i,l=r,!0}if(e instanceof we){var o=e.label;if(l.has(o.name))throw new Error(O("Label {name} defined twice",o));return l.set(o.name,o),n(),l.del(o.name),!0}if(e instanceof Ce)for(var a=f;a;a=a.parent_scope)a.uses_with=!0;else if(e instanceof I&&(e.scope=f),e instanceof gn&&((e.thedef=e).references=[]),e instanceof _n)p.def_function(e,"arguments"==e.name?void 0:p);else if(e instanceof vn)(e.scope=p.parent_scope).def_function(e,p);else if(e instanceof dn){if(p.def_variable(e,"SymbolVar"==e.TYPE?null:void 0),p!==f){e.mark_enclosed(c);var s=f.find_variable(e);e.thedef!==s&&(e.thedef=s),e.reference(c)}}else if(e instanceof mn)f.def_variable(e).defun=p;else if(e instanceof yn){var u=l.get(e.name);if(!u)throw new Error(O("Undefined label {name} [{line},{col}]",{name:e.name,line:e.start.line,col:e.start.col}));e.thedef=u}});a.walk(s),a.globals=new z;var s=new zn(function(e,n){if(e instanceof je&&e.label)return e.label.thedef.references.push(e),!0;if(e instanceof bn){var t=e.name;if("eval"==t&&s.parent()instanceof Xe)for(var i=e.scope;i&&!i.uses_eval;i=i.parent_scope)i.uses_eval=!0;var r=e.scope.find_variable(t);return r?r.scope instanceof Te&&"arguments"==t&&(r.scope.uses_arguments=!0):r=a.def_global(e),e.thedef=r,e.reference(c),!0}var o;if(e instanceof mn&&(o=e.definition().redefined()))for(var i=e.scope;i&&(v(i.enclosed,o),i!==o.scope);)i=i.parent_scope});a.walk(s),c.ie8&&a.walk(new zn(function(e,n){if(e instanceof mn){var t=e.name,i=e.thedef.references,r=e.thedef.defun,o=r.find_variable(t)||a.globals.get(t)||r.def_variable(e);return i.forEach(function(e){e.thedef=o,e.reference(c)}),e.thedef=o,e.reference(c),!0}}))}),Se.DEFMETHOD("def_global",function(e){var n=this.globals,t=e.name;if(n.has(t))return n.get(t);var i=new _(this,e);return i.undeclared=!0,i.global=!0,n.set(t,i),i}),Be.DEFMETHOD("init_scope_vars",function(e){this.variables=new z,this.functions=new z,this.uses_with=!1,this.uses_eval=!1,this.parent_scope=e,this.enclosed=[],this.cname=-1}),Te.DEFMETHOD("init_scope_vars",function(){Be.prototype.init_scope_vars.apply(this,arguments),this.uses_arguments=!1,this.def_variable(new hn({name:"arguments",start:this.start,end:this.end}))}),I.DEFMETHOD("mark_enclosed",function(e){for(var n=this.definition(),t=this.scope;t&&(v(t.enclosed,n),e.keep_fnames&&t.functions.each(function(e){v(n.scope.enclosed,e)}),t!==n.scope);)t=t.parent_scope}),I.DEFMETHOD("reference",function(e){this.definition().references.push(this),this.mark_enclosed(e)}),Be.DEFMETHOD("find_variable",function(e){return e instanceof I&&(e=e.name),this.variables.get(e)||this.parent_scope&&this.parent_scope.find_variable(e)}),Be.DEFMETHOD("def_function",function(e,n){var t=this.def_variable(e,n);return(!t.init||t.init instanceof ze)&&(t.init=n),this.functions.set(e.name,t),t}),Be.DEFMETHOD("def_variable",function(e,n){var t=this.variables.get(e.name);return t?(t.orig.push(e),t.init&&(t.scope!==e.scope||t.init instanceof $e)&&(t.init=n)):(t=new _(this,e,n),this.variables.set(e.name,t),t.global=!this.parent_scope),e.thedef=t}),I.DEFMETHOD("unmangleable",function(e){var n=this.definition();return!n||n.unmangleable(e)}),gn.DEFMETHOD("unmangleable",ue),I.DEFMETHOD("unreferenced",function(){return 0==this.definition().references.length&&!(this.scope.uses_eval||this.scope.uses_with)}),I.DEFMETHOD("definition",function(){return this.thedef}),I.DEFMETHOD("global",function(){return this.definition().global}),Se.DEFMETHOD("mangle_names",function(a){a=w(a);var s=-1;if(a.cache&&a.cache.props){var n=this.mangled_names=Object.create(null);a.cache.props.each(function(e){n[e]=!0})}var u=[],e=new zn(function(e,n){if(e instanceof we){var t=s;return n(),s=t,!0}if(e instanceof Be)return n(),a.cache&&e instanceof Se&&e.globals.each(c),e.variables.each(c),!0;if(e instanceof gn){for(var i;!d(i=x(++s)););return e.mangled_name=i,!0}if(!a.ie8&&e instanceof Ve){var r=e.argname.definition(),o=r.redefined();return o&&(u.push(r),r.references.forEach(function(e){e.thedef=o,e.reference(a),e.thedef=r})),n(),o||c(r),!0}});function c(e){ae(e.name,a.reserved)||e.mangle(a)}this.walk(e),u.forEach(c)}),Se.DEFMETHOD("find_colliding_names",function(t){var i=t.cache&&t.cache.props,n=Object.create(null);return t.reserved.forEach(r),this.globals.each(o),this.walk(new zn(function(e){e instanceof Be&&e.variables.each(o),e instanceof mn&&o(e.definition())})),n;function r(e){n[e]=!0}function o(e){var n=e.name;if(e.global&&i&&i.has(n))n=i.get(n);else if(!e.unmangleable(t))return;r(n)}}),Se.DEFMETHOD("expand_names",function(t){x.reset(),x.sort(),t=w(t);var n=this.find_colliding_names(t),i=0;function r(){for(var e;e=x(i++),n[e]||!d(e););return e}function o(n){if(!(n.global&&t.cache||n.unmangleable(t)||ae(n.name,t.reserved))){var e=n.redefined();n.name=e?e.name:r(),n.orig.forEach(function(e){e.name=n.name}),n.references.forEach(function(e){e.name=n.name})}}this.globals.each(o),this.walk(new zn(function(e){e instanceof Be&&e.variables.each(o),e instanceof mn&&o(e.definition())}))}),de.DEFMETHOD("tail_node",S),Ke.DEFMETHOD("tail_node",function(){return this.expressions[this.expressions.length-1]}),Se.DEFMETHOD("compute_char_frequency",function(t){t=w(t),x.reset();try{de.prototype.print=function(e,n){this._print(e,n),this instanceof I&&!this.unmangleable(t)?x.consider(this.name,-1):t.properties&&(this instanceof en?x.consider(this.property,-1):this instanceof nn&&i(this.property))},x.consider(this.print_to_string(),1)}finally{de.prototype.print=de.prototype._print}function i(e){e instanceof An?x.consider(e.value,-1):e instanceof sn?(i(e.consequent),i(e.alternative)):e instanceof Ke&&i(e.tail_node())}x.sort()});var x=function(){var e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_".split(""),n="0123456789".split(""),i,r;function t(){r=Object.create(null),e.forEach(function(e){r[e]=0}),n.forEach(function(e){r[e]=0})}function o(e,n){return r[n]-r[e]}function a(e){var n="",t=54;for(e++;n+=i[--e%t],e=Math.floor(e/t),t=64,0<e;);return n}return a.consider=function(e,n){for(var t=e.length;0<=--t;)r[e[t]]+=n},a.sort=function(){i=s(e,o).concat(s(n,o))},(a.reset=t)(),a}(),nt=/^$|[;{][\s\n]*$/;function tt(e){return"comment2"==e.type&&/@preserve|@license|@cc_on/i.test(e.value)}function it(s){var e=!s;s=ne(s,{ascii_only:!1,beautify:!1,braces:!1,comments:!1,ie8:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,webkit:!1,width:80,wrap_iife:!1},!0);var u=ue;if(s.comments){var n=s.comments;if("string"==typeof s.comments&&/^\/.*\/[a-zA-Z]*$/.test(s.comments)){var t=s.comments.lastIndexOf("/");n=new RegExp(s.comments.substr(1,t-1),s.comments.substr(t+1))}u=n instanceof RegExp?function(e){return"comment5"!=e.type&&n.test(e.value)}:"function"==typeof n?function(e){return"comment5"!=e.type&&n(this,e)}:"some"===n?tt:K}var r=0,a=0,c=1,f=0,l="",p=s.ascii_only?function(e,t){return e.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(e){var n=e.charCodeAt(0).toString(16);if(n.length<=2&&!t){for(;n.length<2;)n="0"+n;return"\\x"+n}for(;n.length<4;)n="0"+n;return"\\u"+n})}:function(e){for(var n="",t=0,i=e.length;t<i;t++)ee(e[t])&&!qn(e[t+1])||qn(e[t])&&!ee(e[t-1])?n+="\\u"+e.charCodeAt(t).toString(16):n+=e[t];return n};function i(t,e){var i=0,r=0;function n(){return"'"+t.replace(/\x27/g,"\\'")+"'"}function o(){return'"'+t.replace(/\x22/g,'\\"')+'"'}switch(t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(e,n){switch(e){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return s.ie8?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(t.charAt(n+1))?"\\x00":"\\0"}return e}),t=p(t),s.quote_style){case 1:return n();case 2:return o();case 3:return"'"==e?n():o();default:return r<i?n():o()}}function o(e,n){var t=i(e,n);return s.inline_script&&(t=(t=(t=t.replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2")).replace(/\x3c!--/g,"\\x3c!--")).replace(/--\x3e/g,"--\\x3e")),t}function d(e){return e=e.toString(),e=p(e,!0)}function h(e){return J(" ",s.indent_start+r-e*s.indent_level)}var v=!1,_=!1,m=0,g=!1,b=!1,y=-1,w="",x,A,E=s.source_map&&[],k=E?function(){E.forEach(function(n){try{s.source_map.add(n.token.file,n.line,n.col,n.token.line,n.token.col,n.name||"name"!=n.token.type?n.name:n.token.value)}catch(e){de.warn("Couldn't figure out mapping for {file}:{line},{col} → {cline},{ccol} [{name}]",{file:n.token.file,line:n.token.line,col:n.token.col,cline:n.line,ccol:n.col,name:n.name||""})}}),E=[]}:Z,D=s.max_line_len?function(){if(a>s.max_line_len){if(m){var e=l.slice(0,m),n=l.slice(m);if(E){var t=n.length-a;E.forEach(function(e){e.line++,e.col+=t})}l=e+"\n"+n,c++,f++,a=n.length}a>s.max_line_len&&de.warn("Output exceeds {max_line_len} characters",s)}m&&(m=0,k())}:Z,F=fe("( [ + * / - , .");function C(e){var n=(e=String(e)).charAt(0);g&&n&&(g=!1,"\n"!=n&&(C("\n"),S())),b&&n&&(b=!1,/[\s;})]/.test(n)||B()),y=-1;var t=w.charAt(w.length-1);if(_&&(_=!1,(":"==t&&"}"==n||(!n||";}".indexOf(n)<0)&&";"!=t)&&(s.semicolons||F(n)?(l+=";",a++,f++):(D(),l+="\n",f++,c++,a=0,/^\s+$/.test(e)&&(_=!0)),s.beautify||(v=!1))),!s.beautify&&s.preserve_line&&Y[Y.length-1])for(var i=Y[Y.length-1].start.line;c<i;)D(),l+="\n",f++,c++,a=0,v=!1;v&&((Rn(t)&&(Rn(n)||"\\"==n)||"/"==n&&n==t||("+"==n||"-"==n)&&n==w)&&(l+=" ",a++,f++),v=!1),x&&(E.push({token:x,name:A,line:c,col:a}),x=!1,m||k()),l+=e,f+=e.length;var r=e.split(/\r?\n/),o=r.length-1;c+=o,a+=r[0].length,0<o&&(D(),a=r[o].length),w=e}var B=s.beautify?function(){C(" ")}:function(){v=!0},S=s.beautify?function(e){s.beautify&&C(h(e?.5:0))}:Z,T=s.beautify?function(e,n){!0===e&&(e=q());var t=r;r=e;var i=n();return r=t,i}:function(e,n){return n()},O=s.beautify?function(){if(y<0)return C("\n");"\n"!=l[y]&&(l=l.slice(0,y)+"\n"+l.slice(y),f++,c++),y++}:s.max_line_len?function(){D(),m=l.length}:Z,$=s.beautify?function(){C(";")}:function(){_=!0},z;function M(){_=!1,C(";")}function q(){return r+s.indent_level}function j(e){var n;return C("{"),O(),T(q(),function(){n=e()}),S(),C("}"),n}function N(e){C("(");var n=e();return C(")"),n}function H(e){C("[");var n=e();return C("]"),n}function R(){C(","),B()}function I(){C(":"),B()}function P(){return m&&D(),l}function U(){var e=l.lastIndexOf("\n");return/^ *$/.test(l.slice(e+1))}function L(e){var i=this,n=e.start;if(n&&(!n.comments_before||n.comments_before._dumped!==i)){var r=n.comments_before;if(r||(r=n.comments_before=[]),r._dumped=i,e instanceof Me&&e.value){var o=new zn(function(e){var n=o.parent();if(!(n instanceof Me||n instanceof an&&n.left===e||"Call"==n.TYPE&&n.expression===e||n instanceof sn&&n.condition===e||n instanceof en&&n.expression===e||n instanceof Ke&&n.expressions[0]===e||n instanceof nn&&n.expression===e||n instanceof on))return!0;var t=e.start.comments_before;t&&t._dumped!==i&&(t._dumped=i,r=r.concat(t))});o.push(e),e.value.walk(o)}if(0==f){0<r.length&&s.shebang&&"comment5"==r[0].type&&(C("#!"+r.shift().value+"\n"),S());var t=s.preamble;t&&C(t.replace(/\r\n?|[\n\u2028\u2029]|\s*$/g,"\n"))}if(0!=(r=r.filter(u,e)).length){var a=U();r.forEach(function(e,n){a||(e.nlb?(C("\n"),S(),a=!0):0<n&&B()),/comment[134]/.test(e.type)?(C("//"+e.value.replace(/[@#]__PURE__/g," ")+"\n"),S(),a=!0):"comment2"==e.type&&(C("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),a=!1)}),a||(n.nlb?(C("\n"),S()):B())}}}function V(e,t){var n=this,i=e.end;if(i){var r=i[t?"comments_before":"comments_after"];if(r&&r._dumped!==n&&(e instanceof he||le(r,function(e){return!/comment[134]/.test(e.type)}))){r._dumped=n;var o=l.length;r.filter(u,e).forEach(function(e,n){b=!1,g?(C("\n"),S(),g=!1):e.nlb&&(0<n||!U())?(C("\n"),S()):(0<n||!t)&&B(),/comment[134]/.test(e.type)?(C("//"+e.value.replace(/[@#]__PURE__/g," ")),g=!0):"comment2"==e.type&&(C("/*"+e.value.replace(/[@#]__PURE__/g," ")+"*/"),b=!0)}),l.length>o&&(y=o)}}}var Y=[];return{get:P,toString:P,indent:S,indentation:function(){return r},current_width:function(){return a-r},should_break:function(){return s.width&&this.current_width()>=s.width},has_parens:function(){return"("==l.slice(-1)},newline:O,print:C,space:B,comma:R,colon:I,last:function(){return w},semicolon:$,force_semicolon:M,to_utf8:p,print_name:function(e){C(d(e))},print_string:function(e,n,t){var i=o(e,n);!0===t&&-1===i.indexOf("\\")&&(nt.test(l)||M(),M()),C(i)},encode_string:o,next_indent:q,with_indent:T,with_block:j,with_parens:N,with_square:H,add_mapping:E?function(e,n){x=e,A=n}:Z,option:function(e){return s[e]},prepend_comments:e?Z:L,append_comments:e||u===ue?Z:V,line:function(){return c},col:function(){return a},pos:function(){return f},push_node:function(e){Y.push(e)},pop_node:function(){return Y.pop()},parent:function(e){return Y[Y.length-2-(e||0)]}}}function rt(e,n){if(!(this instanceof rt))return new rt(e,n);et.call(this,this.before,this.after),this.options=ne(e,{arguments:!n,booleans:!n,collapse_vars:!n,comparisons:!n,conditionals:!n,dead_code:!n,drop_console:!1,drop_debugger:!n,evaluate:!n,expression:!1,global_defs:{},hoist_funs:!1,hoist_props:!n,hoist_vars:!1,ie8:!1,if_return:!n,inline:!n,join_vars:!n,keep_fargs:!0,keep_fnames:!1,keep_infinity:!1,loops:!n,negate_iife:!n,passes:1,properties:!n,pure_getters:!n&&"strict",pure_funcs:null,reduce_funcs:!n,reduce_vars:!n,sequences:!n,side_effects:!n,switches:!n,top_retain:null,toplevel:!(!e||!e.top_retain),typeofs:!n,unsafe:!1,unsafe_comps:!1,unsafe_Function:!1,unsafe_math:!1,unsafe_proto:!1,unsafe_regexp:!1,unsafe_undefined:!1,unused:!n,warnings:!1},!0);var t=this.options.global_defs;if("object"==typeof t)for(var i in t)/^@/.test(i)&&pe(t,i)&&(t[i.slice(1)]=Qn(t[i],{expression:!0}));!0===this.options.inline&&(this.options.inline=3);var r=this.options.pure_funcs;this.pure_funcs="function"==typeof r?r:r?function(e){return r.indexOf(e.expression.print_to_string())<0}:K;var o=this.options.top_retain;o instanceof RegExp?this.top_retain=function(e){return o.test(e.name)}:"function"==typeof o?this.top_retain=o:o&&("string"==typeof o&&(o=o.split(/,/)),this.top_retain=function(e){return 0<=o.indexOf(e.name)});var a=this.options.toplevel;this.toplevel="string"==typeof a?{funcs:/funcs/.test(a),vars:/vars/.test(a)}:{funcs:a,vars:a};var s=this.options.sequences;this.sequences_limit=1==s?800:0|s,this.warnings_produced={}}function A(s){s=ne(s,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var u=new MOZ_SourceMap.SourceMapGenerator({file:s.file,sourceRoot:s.root}),c=s.orig&&new MOZ_SourceMap.SourceMapConsumer(s.orig);function e(e,n,t,i,r,o){if(c){var a=c.originalPositionFor({line:i,column:r});if(null===a.source)return;e=a.source,i=a.line,r=a.column,o=a.name||o}u.addMapping({generated:{line:n+s.dest_line_diff,column:t},original:{line:i+s.orig_line_diff,column:r},source:e,name:o})}return c&&Array.isArray(s.orig.sources)&&c._sources.toArray().forEach(function(e){var n=c.sourceContentFor(e,!0);n&&u.setSourceContent(e,n)}),{add:e,get:function(){return u},toString:function(){return JSON.stringify(u.toJSON())}}}function E(n){function t(e){v(n,e)}["null","true","false","Infinity","-Infinity","undefined"].forEach(t),[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(e){Object.getOwnPropertyNames(e).map(t),e.prototype&&Object.getOwnPropertyNames(e.prototype).map(t)})}function k(e,n){function t(e){v(n,e)}e.walk(new zn(function(e){e instanceof ln&&e.quote?t(e.key):e instanceof nn&&D(e.property,t)}))}function D(e,n){e.walk(new zn(function(e){return e instanceof Ke?D(e.tail_node(),n):e instanceof An?n(e.value):e instanceof sn&&(D(e.consequent,n),D(e.alternative,n)),!0}))}function F(e,n){var t=(n=ne(n,{builtins:!1,cache:null,debug:!1,keep_quoted:!1,only_cache:!1,regex:null,reserved:null},!0)).reserved;Array.isArray(t)||(t=[]),n.builtins||E(t);var i=-1,r;n.cache?(r=n.cache.props).each(function(e){v(t,e)}):r=new z;var o=n.regex,a=!1!==n.debug,s;a&&(s=!0===n.debug?"":n.debug);var u=[],c=[];return e.walk(new zn(function(e){e instanceof ln?p(e.key):e instanceof R?p(e.key.name):e instanceof en?p(e.property):e instanceof nn&&D(e.property,p)})),e.transform(new et(function(e){e instanceof ln?e.key=d(e.key):e instanceof R?e.key.name=d(e.key.name):e instanceof en?e.property=d(e.property):!n.keep_quoted&&e instanceof nn&&(e.property=h(e.property))}));function f(e){return!(0<=c.indexOf(e))&&(!(0<=t.indexOf(e))&&(n.only_cache?r.has(e):!/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(e)))}function l(e){return!(o&&!o.test(e))&&(!(0<=t.indexOf(e))&&(r.has(e)||0<=u.indexOf(e)))}function p(e){f(e)&&v(u,e),l(e)||v(c,e)}function d(e){if(!l(e))return e;var n=r.get(e);if(!n){if(a){var t="_$"+e+"$"+s+"_";f(t)&&(n=t)}if(!n)for(;!f(n=x(++i)););r.set(e,n)}return n}function h(e){return e.transform(new et(function(e){if(e instanceof Ke){var n=e.expressions.length-1;e.expressions[n]=h(e.expressions[n])}else e instanceof An?e.value=d(e.value):e instanceof sn&&(e.consequent=h(e.consequent),e.alternative=h(e.alternative));return e}))}}(function(){function e(e,n){e.DEFMETHOD("_codegen",n)}var o=!1,a=null,s=null;function t(e,n){Array.isArray(e)?e.forEach(function(e){t(e,n)}):e.DEFMETHOD("needs_parens",n)}function i(e,t,i,n){var r=e.length-1;o=n,e.forEach(function(e,n){!0!==o||e instanceof _e||e instanceof ye||e instanceof me&&e.body instanceof An||(o=!1),e instanceof ye||(i.indent(),e.print(i),n==r&&t||(i.newline(),t&&i.newline())),!0===o&&e instanceof me&&e.body instanceof An&&(o=!1)}),o=!1}function r(e,n){n.print("{"),n.with_indent(n.next_indent(),function(){n.append_comments(e,!0)}),n.print("}")}function u(e,n,t){0<e.body.length?n.with_block(function(){i(e.body,!1,n,t)}):r(e,n)}function c(e,n){var t=e.body;if(n.option("braces")||n.option("ie8")&&t instanceof Ee)return _(t,n);if(!t)return n.force_semicolon();for(;;)if(t instanceof Re){if(!t.alternative)return void _(e.body,n);t=t.alternative}else{if(!(t instanceof g))break;t=t.body}p(e.body,n)}function f(e,n,t){var i=!1;t&&e.walk(new zn(function(e){return!!(i||e instanceof Be)||(e instanceof an&&"in"==e.operator?i=!0:void 0)})),e.print(n,i)}function l(e,n,t){t.option("quote_keys")?t.print_string(e):""+ +e==e&&0<=e?t.print(v(e)):(b(e)?!t.option("ie8"):In(e))?n&&t.option("keep_quoted_props")?t.print_string(e,n):t.print_name(e):t.print_string(e,n)}function p(e,n){n.option("braces")?_(e,n):!e||e instanceof ye?n.force_semicolon():e.print(n)}function d(e,n){return 0<e.args.length||n.option("beautify")}function h(e){for(var n=e[0],t=n.length,i=1;i<e.length;++i)e[i].length<t&&(t=(n=e[i]).length);return n}function v(e){var n=e.toString(10),t=[n.replace(/^0\./,".").replace("e+","e")],i;return Math.floor(e)===e?(0<=e?t.push("0x"+e.toString(16).toLowerCase(),"0"+e.toString(8)):t.push("-0x"+(-e).toString(16).toLowerCase(),"-0"+(-e).toString(8)),(i=/^(.*?)(0+)$/.exec(e))&&t.push(i[1]+"e"+i[2].length)):(i=/^0?\.(0+)(.*)$/.exec(e))&&t.push(i[2]+"e-"+(i[1].length+i[2].length),n.substr(n.indexOf("."))),h(t)}function _(e,n){!e||e instanceof ye?n.print("{}"):e instanceof be?e.print(n):n.with_block(function(){n.indent(),e.print(n),n.newline()})}function n(e,n){e.DEFMETHOD("add_source_map",function(e){n(this,e)})}function m(e,n){n.add_mapping(e.start)}de.DEFMETHOD("print",function(e,n){var t=this,i=t._codegen;function r(){e.prepend_comments(t),t.add_source_map(e),i(t,e),e.append_comments(t)}t instanceof Be?a=t:!s&&t instanceof _e&&"use asm"==t.value&&(s=a),e.push_node(t),n||t.needs_parens(e)?e.with_parens(r):r(),e.pop_node(),t===s&&(s=null)}),de.DEFMETHOD("_print",de.prototype.print),de.DEFMETHOD("print_to_string",function(e){var n=it(e);return this.print(n),n.get()}),t(de,ue),t($e,function(e){if(!e.has_parens()&&M(e))return!0;var n,n;if(e.option("webkit")&&((n=e.parent())instanceof Qe&&n.expression===this))return!0;return!!e.option("wrap_iife")&&((n=e.parent())instanceof Xe&&n.expression===this)}),t(fn,function(e){return!e.has_parens()&&M(e)}),t(tn,function(e){var n=e.parent();return n instanceof Qe&&n.expression===this||n instanceof Xe&&n.expression===this}),t(Ke,function(e){var n=e.parent();return n instanceof Xe||n instanceof tn||n instanceof an||n instanceof Ge||n instanceof Qe||n instanceof cn||n instanceof R||n instanceof sn}),t(an,function(e){var n=e.parent();if(n instanceof Xe&&n.expression===this)return!0;if(n instanceof tn)return!0;if(n instanceof Qe&&n.expression===this)return!0;if(n instanceof an){var t=n.operator,i=Zn[t],r=this.operator,o=Zn[r];if(o<i||i==o&&this===n.right)return!0}}),t(Qe,function(e){var n=e.parent();if(n instanceof Ze&&n.expression===this){var t=!1;return this.walk(new zn(function(e){return!!(t||e instanceof Be)||(e instanceof Xe?t=!0:void 0)})),t}}),t(Xe,function(e){var n=e.parent(),t;return n instanceof Ze&&n.expression===this||this.expression instanceof $e&&n instanceof Qe&&n.expression===this&&(t=e.parent(1))instanceof un&&t.left===n}),t(Ze,function(e){var n=e.parent();if(!d(this,e)&&(n instanceof Qe||n instanceof Xe&&n.expression===this))return!0}),t(En,function(e){var n=e.parent();if(n instanceof Qe&&n.expression===this){var t=this.getValue();if(t<0||/^0/.test(v(t)))return!0}}),t([un,sn],function(e){var n=e.parent();return n instanceof tn||(n instanceof an&&!(n instanceof un)||(n instanceof Xe&&n.expression===this||(n instanceof sn&&n.condition===this||(n instanceof Qe&&n.expression===this||void 0))))}),e(_e,function(e,n){n.print_string(e.value,e.quote),n.semicolon()}),e(ve,function(e,n){n.print("debugger"),n.semicolon()}),g.DEFMETHOD("_do_print_body",function(e){p(this.body,e)}),e(he,function(e,n){e.body.print(n),n.semicolon()}),e(Se,function(e,n){i(e.body,!0,n,!0),n.print("")}),e(we,function(e,n){e.label.print(n),n.colon(),e.body.print(n)}),e(me,function(e,n){e.body.print(n),n.semicolon()}),e(be,function(e,n){u(e,n)}),e(ye,function(e,n){n.semicolon()}),e(Ee,function(e,n){n.print("do"),n.space(),_(e.body,n),n.space(),n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.semicolon()}),e(ke,function(e,n){n.print("while"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e._do_print_body(n)}),e(De,function(e,n){n.print("for"),n.space(),n.with_parens(function(){e.init?(e.init instanceof Je?e.init.print(n):f(e.init,n,!0),n.print(";"),n.space()):n.print(";"),e.condition?(e.condition.print(n),n.print(";"),n.space()):n.print(";"),e.step&&e.step.print(n)}),n.space(),e._do_print_body(n)}),e(Fe,function(e,n){n.print("for"),n.space(),n.with_parens(function(){e.init.print(n),n.space(),n.print("in"),n.space(),e.object.print(n)}),n.space(),e._do_print_body(n)}),e(Ce,function(e,n){n.print("with"),n.space(),n.with_parens(function(){e.expression.print(n)}),n.space(),e._do_print_body(n)}),Te.DEFMETHOD("_do_print",function(t,e){var n=this;e||t.print("function"),n.name&&(t.space(),n.name.print(t)),t.with_parens(function(){n.argnames.forEach(function(e,n){n&&t.comma(),e.print(t)})}),t.space(),u(n,t,!0)}),e(Te,function(e,n){e._do_print(n)}),Me.DEFMETHOD("_do_print",function(e,n){e.print(n),this.value&&(e.space(),this.value.print(e)),e.semicolon()}),e(qe,function(e,n){e._do_print(n,"return")}),e(te,function(e,n){e._do_print(n,"throw")}),je.DEFMETHOD("_do_print",function(e,n){e.print(n),this.label&&(e.space(),this.label.print(e)),e.semicolon()}),e(Ne,function(e,n){e._do_print(n,"break")}),e(He,function(e,n){e._do_print(n,"continue")}),e(Re,function(e,n){n.print("if"),n.space(),n.with_parens(function(){e.condition.print(n)}),n.space(),e.alternative?(c(e,n),n.space(),n.print("else"),n.space(),e.alternative instanceof Re?e.alternative.print(n):p(e.alternative,n)):e._do_print_body(n)}),e(Ie,function(e,t){t.print("switch"),t.space(),t.with_parens(function(){e.expression.print(t)}),t.space();var i=e.body.length-1;i<0?r(e,t):t.with_block(function(){e.body.forEach(function(e,n){t.indent(!0),e.print(t),n<i&&0<e.body.length&&t.newline()})})}),H.DEFMETHOD("_do_print_body",function(n){n.newline(),this.body.forEach(function(e){n.indent(),e.print(n),n.newline()})}),e(Pe,function(e,n){n.print("default:"),e._do_print_body(n)}),e(Ue,function(e,n){n.print("case"),n.space(),e.expression.print(n),n.print(":"),e._do_print_body(n)}),e(Le,function(e,n){n.print("try"),n.space(),u(e,n),e.bcatch&&(n.space(),e.bcatch.print(n)),e.bfinally&&(n.space(),e.bfinally.print(n))}),e(Ve,function(e,n){n.print("catch"),n.space(),n.with_parens(function(){e.argname.print(n)}),n.space(),u(e,n)}),e(Ye,function(e,n){n.print("finally"),n.space(),u(e,n)}),Je.DEFMETHOD("_do_print",function(t,e){t.print(e),t.space(),this.definitions.forEach(function(e,n){n&&t.comma(),e.print(t)});var n=t.parent(),i,r;(n instanceof De||n instanceof Fe)&&n.init===this||t.semicolon()}),e(We,function(e,n){e._do_print(n,"var")}),e(Ge,function(e,n){if(e.name.print(n),e.value){n.space(),n.print("="),n.space();var t=n.parent(1),i=t instanceof De||t instanceof Fe;f(e.value,n,i)}}),e(Xe,function(e,t){e.expression.print(t),e instanceof Ze&&!d(e,t)||((e.expression instanceof Xe||e.expression instanceof Te)&&t.add_mapping(e.start),t.with_parens(function(){e.args.forEach(function(e,n){n&&t.comma(),e.print(t)})}))}),e(Ze,function(e,n){n.print("new"),n.space(),Xe.prototype._codegen(e,n)}),Ke.DEFMETHOD("_do_print",function(t){this.expressions.forEach(function(e,n){0<n&&(t.comma(),t.should_break()&&(t.newline(),t.indent())),e.print(t)})}),e(Ke,function(e,n){e._do_print(n)}),e(en,function(e,n){var t=e.expression;t.print(n);var i=e.property;n.option("ie8")&&b(i)?(n.print("["),n.add_mapping(e.end),n.print_string(i),n.print("]")):(t instanceof En&&0<=t.getValue()&&(/[xa-f.)]/i.test(n.last())||n.print(".")),n.print("."),n.add_mapping(e.end),n.print_name(i))}),e(nn,function(e,n){e.expression.print(n),n.print("["),e.property.print(n),n.print("]")}),e(rn,function(e,n){var t=e.operator;n.print(t),(/^[a-z]/i.test(t)||/[+-]$/.test(t)&&e.expression instanceof rn&&/^[+-]/.test(e.expression.operator))&&n.space(),e.expression.print(n)}),e(on,function(e,n){e.expression.print(n),n.print(e.operator)}),e(an,function(e,n){var t=e.operator;e.left.print(n),">"==t[0]&&e.left instanceof on&&"--"==e.left.operator?n.print(" "):n.space(),n.print(t),("<"==t||"<<"==t)&&e.right instanceof rn&&"!"==e.right.operator&&e.right.expression instanceof rn&&"--"==e.right.expression.operator?n.print(" "):n.space(),e.right.print(n)}),e(sn,function(e,n){e.condition.print(n),n.space(),n.print("?"),n.space(),e.consequent.print(n),n.space(),n.colon(),e.alternative.print(n)}),e(cn,function(n,i){i.with_square(function(){var e=n.elements,t=e.length;0<t&&i.space(),e.forEach(function(e,n){n&&i.comma(),e.print(i),n===t-1&&e instanceof Bn&&i.comma()}),0<t&&i.space()})}),e(fn,function(e,t){0<e.properties.length?t.with_block(function(){e.properties.forEach(function(e,n){n&&(t.print(","),t.newline()),t.indent(),e.print(t)}),t.newline()}):r(e,t)}),e(ln,function(e,n){l(e.key,e.quote,n),n.colon(),e.value.print(n)}),R.DEFMETHOD("_print_getter_setter",function(e,n){n.print(e),n.space(),l(this.key.name,this.quote,n),this.value._do_print(n,!0)}),e(ie,function(e,n){e._print_getter_setter("set",n)}),e(re,function(e,n){e._print_getter_setter("get",n)}),e(I,function(e,n){var t=e.definition();n.print_name(t?t.mangled_name||t.name:e.name)}),e(Bn,Z),e(wn,function(e,n){n.print("this")}),e(xn,function(e,n){n.print(e.getValue())}),e(An,function(e,n){n.print_string(e.getValue(),e.quote,o)}),e(En,function(e,n){s&&e.start&&null!=e.start.raw?n.print(e.start.raw):n.print(v(e.getValue()))}),e(kn,function(e,n){var t=e.getValue(),i=t.toString();t.raw_source&&(i="/"+t.raw_source+i.slice(i.lastIndexOf("/"))),i=n.to_utf8(i),n.print(i);var r=n.parent();r instanceof an&&/^in/.test(r.operator)&&r.left===e&&n.print(" ")}),n(de,Z),n(_e,m),n(ve,m),n(I,m),n(N,m),n(g,m),n(we,Z),n(Te,m),n(Ie,m),n(H,m),n(be,m),n(Se,Z),n(Ze,m),n(Le,m),n(Ve,m),n(Ye,m),n(Je,m),n(xn,m),n(ie,function(e,n){n.add_mapping(e.start,e.key.name)}),n(re,function(e,n){n.add_mapping(e.start,e.key.name)}),n(R,function(e,n){n.add_mapping(e.start,e.key)})})(),t(rt.prototype=new et,{option:function(e){return this.options[e]},exposed:function(e){if(e.global)for(var n=0,t=e.orig.length;n<t;n++)if(!this.toplevel[e.orig[n]instanceof vn?"funcs":"vars"])return!0;return!1},compress:function(e){this.option("expression")&&e.process_expression(!0);for(var n=+this.options.passes||1,t=1/0,i=!1,r={ie8:this.option("ie8")},o=0;o<n;o++)if(e.figure_out_scope(r),(0<o||this.option("reduce_vars"))&&e.reset_opt_flags(this),e=e.transform(this),1<n){var a=0;if(e.walk(new zn(function(){a++})),this.info("pass "+o+": last_count: "+t+", count: "+a),a<t)t=a,i=!1;else{if(i)break;i=!0}}return this.option("expression")&&e.process_expression(!1),e},info:function(){"verbose"==this.options.warnings&&de.warn.apply(de,arguments)},warn:function(e,n){if(this.options.warnings){var t=O(e,n);t in this.warnings_produced||(this.warnings_produced[t]=!0,de.warn.apply(de,arguments))}},clear_warnings:function(){this.warnings_produced={}},before:function(e,n,t){if(e._squeezed)return e;var i=!1;e instanceof Be&&(e=(e=e.hoist_properties(this)).hoist_declarations(this),i=!0),n(e,this),n(e,this);var r=e.optimize(this);return i&&r instanceof Be&&(r.drop_unused(this),n(r,this)),r===e&&(r._squeezed=!0),r}}),function(){function e(e,i){e.DEFMETHOD("optimize",function(e){var n=this;if(n._optimized)return n;if(e.has_directive("use asm"))return n;var t=i(n,e);return t._optimized=!0,t})}function Q(e){if(e instanceof wn)return!0;if(e instanceof bn)return e.definition().orig[0]instanceof _n;if(e instanceof Qe){if((e=e.expression)instanceof bn){if(e.is_immutable())return!1;e=e.fixed_value()}return!e||(!!e.is_constant()||Q(e))}return!1}function o(e,n){for(var t,i=0;(t=e.parent(i++))&&!(t instanceof Be);)if(t instanceof Ve){t=t.argname.definition().scope;break}return t.find_variable(n)}function ee(e,n,t){return t||(t={}),n&&(t.start||(t.start=n.start),t.end||(t.end=n.end)),new e(t)}function P(e,n){return 1==n.length?n[0]:ee(Ke,e,{expressions:n.reduce(d,[])})}function U(e,n){switch(typeof e){case"string":return ee(An,n,{value:e});case"number":return isNaN(e)?ee(Fn,n):isFinite(e)?1/e<0?ee(rn,n,{operator:"-",expression:ee(En,n,{value:-e})}):ee(En,n,{value:e}):e<0?ee(rn,n,{operator:"-",expression:ee(Sn,n)}):ee(Sn,n);case"boolean":return ee(e?$n:On,n);case"undefined":return ee(Cn,n);default:if(null===e)return ee(Dn,n,{value:null});if(e instanceof RegExp)return ee(kn,n,{value:e});throw new Error(O("Can't handle constant of type: {type}",{type:typeof e}))}}function ne(e,n,t){return e instanceof rn&&"delete"==e.operator||e instanceof Xe&&e.expression===n&&(t instanceof Qe||t instanceof bn&&"eval"==t.name)?P(n,[ee(En,n,{value:0}),t]):t}function d(e,n){return n instanceof Ke?e.push.apply(e,n.expressions):e.push(n),e}function w(e){if(null===e)return[];if(e instanceof be)return e.body;if(e instanceof ye)return[];if(e instanceof he)return[e];throw new Error("Can't convert thing to statement array")}function L(e){return null===e||(e instanceof ye||e instanceof be&&0==e.body.length)}function x(e){return e instanceof xe&&e.body instanceof be?e.body:e}function te(e){for(;e instanceof Qe;)e=e.expression;return e}function V(e){return"Call"==e.TYPE&&(e.expression instanceof $e||V(e.expression))}function Y(e){return e instanceof bn&&e.definition().undeclared}e(de,function(e,n){return e}),de.DEFMETHOD("equivalent_to",function(e){return this.TYPE==e.TYPE&&this.print_to_string()==e.print_to_string()}),Be.DEFMETHOD("process_expression",function(i,r){var o=this,a=new et(function(e){if(i&&e instanceof me)return ee(qe,e,{value:e.body});if(!i&&e instanceof qe){if(r){var n=e.value&&e.value.drop_side_effect_free(r,!0);return n?ee(me,e,{body:n}):ee(ye,e)}return ee(me,e,{body:e.value||ee(rn,e,{operator:"void",expression:ee(En,e,{value:0})})})}if(e instanceof Te&&e!==o)return e;if(e instanceof ge){var t=e.body.length-1;0<=t&&(e.body[t]=e.body[t].transform(a))}else e instanceof Re?(e.body=e.body.transform(a),e.alternative&&(e.alternative=e.alternative.transform(a))):e instanceof Ce&&(e.body=e.body.transform(a));return e});o.transform(a)}),function(e){function i(e,n){n.assignments=0,n.chained=!1,n.direct_access=!1,n.escaped=!1,n.scope.uses_eval||n.scope.uses_with?n.fixed=!1:e.exposed(n)?n.fixed=!1:n.fixed=n.init,n.recursive_refs=0,n.references=[],n.should_replace=void 0,n.single_use=void 0}function a(n,t,e){e.variables.each(function(e){i(t,e),null===e.fixed?(e.safe_ids=n.safe_ids,c(n,e,!0)):e.fixed&&(n.loop_ids[e.id]=n.in_loop,c(n,e,!0))})}function s(e){e.safe_ids=Object.create(e.safe_ids)}function u(e){e.safe_ids=Object.getPrototypeOf(e.safe_ids)}function c(e,n,t){e.safe_ids[n.id]=t}function o(e,n){if(e.safe_ids[n.id]){if(null==n.fixed){var t=n.orig[0];if(t instanceof hn||"arguments"==t.name)return!1;n.fixed=ee(Cn,t)}return!0}return n.fixed instanceof ze}function f(e,n,t){return void 0===n.fixed||(null===n.fixed&&n.safe_ids?(n.safe_ids[n.id]=!1,delete n.safe_ids,!0):!!pe(e.safe_ids,n.id)&&(!!o(e,n)&&(!1!==n.fixed&&(!(null!=n.fixed&&(!t||n.references.length>n.assignments))&&le(n.orig,function(e){return!(e instanceof vn||e instanceof _n)})))))}function l(e,n,t){return n.option("unused")&&!t.scope.uses_eval&&!t.scope.uses_with&&t.references.length-t.recursive_refs==1&&e.loop_ids[t.id]===e.in_loop}function p(e){return!!e&&(e.is_constant()||e instanceof Te||e instanceof wn)}function d(e,n){if(!((n=_(n))instanceof de)){var t;if(e instanceof cn){var i=e.elements;if("length"==n)return U(i.length,e);"number"==typeof n&&n in i&&(t=i[n])}else if(e instanceof fn){n=""+n;for(var r=e.properties,o=r.length;0<=--o;){var a;if(!(r[o]instanceof ln))return;t||r[o].key!==n||(t=r[o].value)}}return t instanceof bn&&t.fixed_value()||t}}function h(e,n,t,i,r){var o=e.parent(i);if(oe(n,o)||!r&&o instanceof Xe&&o.expression===n&&(!(t instanceof $e)||!(o instanceof Ze)&&t.contains_this()))return!0;if(o instanceof cn)return h(e,o,o,i+1);if(o instanceof ln&&n===o.value){var a=e.parent(i+1);return h(e,a,a,i+2)}return o instanceof Qe&&o.expression===n?!r&&h(e,o,d(t,o.property),i+1):void 0}function v(e,n,t,i,r,o,a){var s=e.parent(o);if(!r||!r.is_constant()){if(s instanceof un&&"="==s.operator&&i===s.right||s instanceof Xe&&i!==s.expression||s instanceof Me&&i===s.value&&i.scope!==n.scope||s instanceof Ge&&i===s.value)return!(1<a)||r&&r.is_constant_expression(t)||(a=1),void((!n.escaped||n.escaped>a)&&(n.escaped=a));if(s instanceof cn||s instanceof an&&re(s.operator)||s instanceof sn&&i!==s.condition||s instanceof Ke&&i===s.tail_node())v(e,n,t,s,s,o+1,a);else if(s instanceof ln&&i===s.value){var u=e.parent(o+1);v(e,n,t,u,u,o+2,a)}else if(s instanceof Qe&&i===s.expression&&(v(e,n,t,s,r=d(r,s.property),o+1,a+1),r))return;0==o&&(n.direct_access=!0)}}e(de,Z);var t=new zn(function(e){if(e instanceof I){var n=e.definition();n&&(e instanceof bn&&n.references.push(e),n.fixed=!1)}});e(Oe,function(e,n,t){return s(e),a(e,t,this),n(),u(e),!0}),e(un,function(e){var n=this;if(n.left instanceof bn){var t=n.left.definition(),i=t.fixed;if((i||"="==n.operator)&&f(e,t,n.right))return t.references.push(n.left),t.assignments++,"="!=n.operator&&(t.chained=!0),t.fixed="="==n.operator?function(){return n.right}:function(){return ee(an,n,{operator:n.operator.slice(0,-1),left:i instanceof de?i:i(),right:n.right})},c(e,t,!1),n.right.walk(e),c(e,t,!0),!0}}),e(an,function(e){if(re(this.operator))return this.left.walk(e),s(e),this.right.walk(e),u(e),!0}),e(Ue,function(e){return s(e),this.expression.walk(e),u(e),s(e),j(this,e),u(e),!0}),e(sn,function(e){return this.condition.walk(e),s(e),this.consequent.walk(e),u(e),s(e),this.alternative.walk(e),u(e),!0}),e(Pe,function(e,n){return s(e),n(),u(e),!0}),e(ze,function(e,n,t){this.inlined=!1;var i=e.safe_ids;return e.safe_ids=Object.create(null),a(e,t,this),n(),e.safe_ids=i,!0}),e(Ee,function(e){var n=e.in_loop;return e.in_loop=this,s(e),this.body.walk(e),this.condition.walk(e),u(e),e.in_loop=n,!0}),e(De,function(e){this.init&&this.init.walk(e);var n=e.in_loop;return(e.in_loop=this).condition&&(s(e),this.condition.walk(e),u(e)),s(e),this.body.walk(e),u(e),this.step&&(s(e),this.step.walk(e),u(e)),e.in_loop=n,!0}),e(Fe,function(e){this.init.walk(t),this.object.walk(e);var n=e.in_loop;return e.in_loop=this,s(e),this.body.walk(e),u(e),e.in_loop=n,!0}),e($e,function(i,e,n){var r=this,o;return r.inlined=!1,s(i),a(i,n,r),!r.name&&(o=i.parent())instanceof Xe&&o.expression===r&&r.argnames.forEach(function(e,n){var t=e.definition();r.uses_arguments||void 0!==t.fixed?t.fixed=!1:(t.fixed=function(){return o.args[n]||ee(Cn,o)},i.loop_ids[t.id]=i.in_loop,c(i,t,!0))}),e(),u(i),!0}),e(Re,function(e){return this.condition.walk(e),s(e),this.body.walk(e),u(e),this.alternative&&(s(e),this.alternative.walk(e),u(e)),!0}),e(we,function(e){return s(e),this.body.walk(e),u(e),!0}),e(mn,function(){this.definition().fixed=!1}),e(bn,function(e,n,t){var i=this.definition(),r;i.references.push(this),1==i.references.length&&!i.fixed&&i.orig[0]instanceof vn&&(e.loop_ids[i.id]=e.in_loop),void 0!==i.fixed&&o(e,i)&&"m"!=i.single_use?i.fixed&&((r=this.fixed_value())instanceof Te&&G(e,i)?i.recursive_refs++:r&&l(e,t,i)?i.single_use=r instanceof Te||i.scope===this.scope&&r.is_constant_expression():i.single_use=!1,h(e,this,r,0,p(r))&&(i.single_use?i.single_use="m":i.fixed=!1)):i.fixed=!1,v(e,i,this.scope,this,r,0,1)}),e(Se,function(e,n,t){this.globals.each(function(e){i(t,e)}),a(e,t,this)}),e(Le,function(e){return s(e),j(this,e),u(e),this.bcatch&&(s(e),this.bcatch.walk(e),u(e)),this.bfinally&&this.bfinally.walk(e),!0}),e(tn,function(e,n){var t=this;if(("++"==t.operator||"--"==t.operator)&&t.expression instanceof bn){var i=t.expression.definition(),r=i.fixed;if(r&&f(e,i,!0))return i.references.push(t.expression),i.assignments++,i.chained=!0,i.fixed=function(){return ee(an,t,{operator:t.operator.slice(0,-1),left:ee(rn,t,{operator:"+",expression:r instanceof de?r:r()}),right:ee(En,t,{value:1})})},c(e,i,!0),!0}}),e(Ge,function(e,n){var t=this,i=t.name.definition();if(t.value){if(f(e,i,t.value))return i.fixed=function(){return t.value},e.loop_ids[i.id]=e.in_loop,c(e,i,!1),n(),c(e,i,!0),!0;i.fixed=!1}}),e(ke,function(e){var n=e.in_loop;return e.in_loop=this,s(e),this.condition.walk(e),this.body.walk(e),u(e),e.in_loop=n,!0})}(function(e,n){e.DEFMETHOD("reduce_vars",n)}),Se.DEFMETHOD("reset_opt_flags",function(t){var i=t.option("reduce_vars"),r=new zn(function(e,n){if(e._squeezed=!1,e._optimized=!1,i)return e.reduce_vars(r,n,t)});r.safe_ids=Object.create(null),r.in_loop=null,r.loop_ids=Object.create(null),this.walk(r)}),I.DEFMETHOD("fixed_value",function(){var e=this.definition().fixed;return!e||e instanceof de?e:e()}),bn.DEFMETHOD("is_immutable",function(){var e=this.definition().orig;return 1==e.length&&e[0]instanceof _n});var n=fe("Array Boolean clearInterval clearTimeout console Date decodeURI decodeURIComponent encodeURI encodeURIComponent Error escape eval EvalError Function isFinite isNaN JSON Math Number parseFloat parseInt RangeError ReferenceError RegExp Object setInterval setTimeout String SyntaxError TypeError unescape URIError");bn.DEFMETHOD("is_declared",function(e){return!this.definition().undeclared||e.option("unsafe")&&n(this.name)});var J=fe("Infinity NaN undefined"),t,i,r,a,s;function ie(e){return e instanceof Sn||e instanceof Fn||e instanceof Cn}function u(e,c){var G,X,Z;t();for(var K,n=10;K=!1,r(e),c.option("dead_code")&&a(e,c),c.option("if_return")&&o(e,c),0<c.sequences_limit&&(s(e,c),u(e,c)),c.option("join_vars")&&l(e),c.option("collapse_vars")&&i(e,c),K&&0<n--;);function t(){var e=c.self(),n=0;do{if(e instanceof Ve||e instanceof Ye)n++;else if(e instanceof xe)G=!0;else{if(e instanceof Be){Z=e;break}e instanceof Le&&(X=!0)}}while(e=c.parent(n++))}function i(t,c){if(Z.uses_eval||Z.uses_with)return t;for(var f,l=[],o=t.length,s=new et(function(e){if(F)return e;if(!D)return e!==u[p]?e:++p<u.length?S(e):(D=!0,(v=$(e,0))===e&&(F=!0),e);var n=s.parent(),t,i,r;if(e instanceof un&&"="!=e.operator&&m.equivalent_to(e.left)||e instanceof Xe&&m instanceof Qe&&m.equivalent_to(e.expression)||e instanceof ve||e instanceof xe&&!(e instanceof De)||e instanceof je||e instanceof Le||e instanceof Ce||n instanceof De&&e!==n.init||!A&&e instanceof bn&&!e.is_declared(c))return F=!0,e;if(!_&&(n instanceof an&&re(n.operator)&&n.left!==e||n instanceof sn&&n.condition!==e||n instanceof Re&&n.condition!==e)&&(_=n),B&&!(e instanceof pn)&&(b&&(t=m.equivalent_to(e))||y&&(i=y(e,this)))){if(_&&(i||!x||!A))return F=!0,e;if(oe(e,n))return h&&C++,e;if(K=F=!0,C++,c.info("Collapsing {name} [{file}:{line},{col}]",{name:e.print_to_string(),file:e.start.file,line:e.start.line,col:e.start.col}),d instanceof on)return ee(rn,d,d);if(d instanceof Ge){if(h)return F=!1,e;var o=d.name.definition(),a=d.value;return o.references.length-o.replaced!=1||c.exposed(o)?ee(un,d,{operator:"=",left:ee(bn,d.name,d.name),right:a}):(o.replaced++,k&&ie(a)?a.transform(c):ne(n,e,a))}return d.write_only=!1,d}return(e instanceof Xe||e instanceof Me&&(g||m instanceof Qe||J(m))||e instanceof Qe&&(g||e.expression.may_throw_on_access(c))||e instanceof bn&&(Y(e)||g&&J(e))||e instanceof Ge&&e.value&&(e.name.name in w||g&&J(e.name))||(r=oe(e.left,e))&&(r instanceof Qe||r.name in w)||E&&(X?e.has_side_effects(c):W(e)))&&(v=e)instanceof Be&&(F=!0),S(e)},function(e){F||(v===e&&(F=!0),_===e&&(_=null))}),n=new et(function(e){if(F)return e;if(!D){if(e!==u[p])return e;if(++p<u.length)return;return D=!0,e}return e instanceof bn&&e.name==a.name?(--C||(F=!0),oe(e,n.parent())?e:(a.replaced++,h.replaced--,d.value)):e instanceof Pe||e instanceof Be?e:void 0});0<=--o;){0==o&&c.option("unused")&&T();var u=[];for(O(t[o]);0<l.length;){u=l.pop();var p=0,d=u[u.length-1],h=null,v=null,_=null,m=M(d),i=q(d),g=m&&m.has_side_effects(c),b=m&&!g&&!Q(m),y=i&&N(i);if(b||y){var w=I(d),x=U(m);g||(g=L(d));var A=V(),E=d.may_throw(c),k=d.name instanceof hn,D=k,F=!1,C=0,B=!f||!D;if(!B){for(var e=c.self().argnames.lastIndexOf(d.name)+1;!F&&e<f.length;e++)f[e].transform(s);B=!0}for(var r=o;!F&&r<t.length;r++)t[r].transform(s);if(h){var a=d.name.definition();if(F&&a.references.length-a.replaced>C)C=!1;else{F=!1,p=0,D=k;for(var r=o;!F&&r<t.length;r++)t[r].transform(n);h.single_use=!1}}C&&!P(d)&&t.splice(o,1)}}}function S(e){if(e instanceof Be)return e;if(e instanceof Ie){e.expression=e.expression.transform(s);for(var n=0,t=e.body.length;!F&&n<t;n++){var i=e.body[n];if(i instanceof Ue){if(!D){if(i!==u[p])continue;p++}if(i.expression=i.expression.transform(s),!A)break}}return F=!0,e}}function T(){var e,t=c.self();if(t instanceof $e&&!t.name&&!t.uses_arguments&&!t.uses_eval&&(e=c.parent())instanceof Xe&&e.expression===t){var i=c.has_directive("use strict");i&&!ae(i,t.body)&&(i=!1);var n=t.argnames.length;f=e.args.slice(n);for(var r=Object.create(null),o=n;0<=--o;){var a=t.argnames[o],s=e.args[o];if(f.unshift(ee(Ge,a,{name:a,value:s})),!(a.name in r)){if(r[a.name]=!0,s){var u=new zn(function(e){if(!s)return!0;if(e instanceof bn&&t.variables.has(e.name)){var n=e.definition().scope;if(n!==Z)for(;n=n.parent_scope;)if(n===Z)return!0;s=null}return e instanceof wn&&(i||!u.find_parent(Be))?!(s=null):void 0});s.walk(u)}else s=ee(Cn,a).transform(c);s&&l.unshift([ee(Ge,a,{name:a,value:s})])}}}}function O(e){u.push(e),e instanceof un?(l.push(u.slice()),O(e.right)):e instanceof an?(O(e.left),O(e.right)):e instanceof Xe?(O(e.expression),e.args.forEach(O)):e instanceof Ue?O(e.expression):e instanceof sn?(O(e.condition),O(e.consequent),O(e.alternative)):e instanceof Je?e.definitions.forEach(O):e instanceof Ae?(O(e.condition),e.body instanceof ge||O(e.body)):e instanceof Me?e.value&&O(e.value):e instanceof De?(e.init&&O(e.init),e.condition&&O(e.condition),e.step&&O(e.step),e.body instanceof ge||O(e.body)):e instanceof Fe?(O(e.object),e.body instanceof ge||O(e.body)):e instanceof Re?(O(e.condition),e.body instanceof ge||O(e.body),!e.alternative||e.alternative instanceof ge||O(e.alternative)):e instanceof Ke?e.expressions.forEach(O):e instanceof me?O(e.body):e instanceof Ie?(O(e.expression),e.body.forEach(O)):e instanceof tn?"++"==e.operator||"--"==e.operator?l.push(u.slice()):O(e.expression):e instanceof Ge&&e.value&&(l.push(u.slice()),O(e.value)),u.pop()}function $(e,n,t){var i=s.parent(n);return i instanceof un?t&&!(i.left instanceof Qe||i.left.name in w)?$(i,n+1,t):e:i instanceof an?!t||re(i.operator)&&i.left!==e?e:$(i,n+1,t):i instanceof Xe?e:i instanceof Ue?e:i instanceof sn?t&&i.condition===e?$(i,n+1,t):e:i instanceof Je?$(i,n+1,!0):i instanceof Me?t?$(i,n+1,t):e:i instanceof Re?t&&i.condition===e?$(i,n+1,t):e:i instanceof xe?e:i instanceof Ke?$(i,n+1,i.tail_node()!==e):i instanceof me?$(i,n+1,!0):i instanceof Ie?e:i instanceof tn?e:i instanceof Ge?e:null}function z(e){var n=e.value;if(n instanceof bn&&"arguments"!=n.name){var t=n.definition();if(!t.undeclared)return h=t}}function M(e){if(!(e instanceof Ge))return e[e instanceof un?"left":"expression"];var n=e.name.definition();if(ae(e.name,n.orig)){var t=n.orig.length-n.eliminated,i=n.references.length-n.replaced;return 1<t&&!(e.name instanceof hn)||(1<i?z(e):!c.exposed(n))?ee(bn,e.name,e.name):void 0}}function q(e){if(d instanceof un&&"="==d.operator)return d.right}function j(e){return e[e instanceof un?"right":"value"]}function N(e){if(e instanceof bn){var n=e.evaluate(c);return n===e?H:R(n,H)}if(e instanceof wn)return H;if(e.is_truthy())return R(!0,ue);if(e.is_constant())return R(e.evaluate(c),H);if(!(m instanceof bn))return!1;if(e.has_side_effects(c))return!1;var t,i=m.definition();return e.walk(new zn(function(e){if(t)return!0;e instanceof bn&&e.definition()===i&&(t=!0)})),!t&&H}function H(e){return i.equivalent_to(e)}function R(t,i){return function(e,n){if(n.in_boolean_context()){if(t&&e.is_truthy()&&!e.has_side_effects(c))return!0;if(e.is_constant())return!e.evaluate(c)==!t}return i(e)}}function I(e){var t=Object.create(null);d instanceof Ge&&(t[d.name.name]=m);var i=new zn(function(e){var n=te(e);(n instanceof bn||n instanceof wn)&&(t[n.name]=t[n.name]||oe(e,i.parent()))});return e.walk(i),t}function P(i){if(i.name instanceof hn){var e=c.self().argnames.indexOf(i.name),n=c.parent().args;return n[e]&&(n[e]=ee(En,n[e],{value:0})),!0}var r=!1;return t[o].transform(new et(function(e,n,t){return r?e:e===i||e.body===i?(r=!0,e instanceof Ge?(e.value=null,e):t?ce.skip:null):void 0},function(e){if(e instanceof Ke)switch(e.expressions.length){case 0:return null;case 1:return e.expressions[0]}}))}function U(e){var n=te(e);return n instanceof bn&&n.definition().scope===Z&&!(G&&(n.name in w&&w[n.name]!==e||d instanceof tn||d instanceof un&&"="!=d.operator))}function L(e){return!(e instanceof tn)&&j(e).has_side_effects(c)}function V(){if(g)return!1;if(h)return!0;if(m instanceof bn){var e=m.definition();if(e.references.length-e.replaced==(d instanceof Ge?1:2))return!0}return!1}function Y(e){var n=w[e.name];if(n)return n!==m||void(y=!1)}function J(e){var n=e.definition();return!(1==n.orig.length&&n.orig[0]instanceof vn)&&(n.scope!==Z||!le(n.references,function(e){var n=e.scope;return"Scope"==n.TYPE&&(n=n.parent_scope),n===Z}))}function W(e,n){if(e instanceof un)return W(e.left,!0);if(e instanceof tn)return W(e.expression,!0);if(e instanceof Ge)return e.value&&W(e.value);if(n){if(e instanceof en)return W(e.expression,!0);if(e instanceof nn)return W(e.expression,!0);if(e instanceof bn)return e.definition().scope!==Z}return!1}}function r(e){for(var n=[],t=0;t<e.length;){var i=e[t];i instanceof be?(K=!0,r(i.body),[].splice.apply(e,[t,1].concat(i.body)),t+=i.body.length):i instanceof ye?(K=!0,e.splice(t,1)):i instanceof _e?n.indexOf(i.value)<0?(t++,n.push(i.value)):(K=!0,e.splice(t,1)):t++}}function o(r,t){for(var i=t.self(),e=d(r),o=i instanceof Te,n=r.length;0<=--n;){var a=r[n],s=g(n),u=r[s];if(o&&!u&&a instanceof qe){if(!a.value){K=!0,r.splice(n,1);continue}if(a.value instanceof rn&&"void"==a.value.operator){K=!0,r[n]=ee(me,a,{body:a.value.expression});continue}}if(a instanceof Re){var c,c;if(v(c=A(a.body))){c.label&&$(c.label.thedef.references,c),K=!0,(a=a.clone()).condition=a.condition.negate(t);var f=m(a.body,c);a.body=ee(be,a,{body:w(a.alternative).concat(_())}),a.alternative=ee(be,a,{body:f}),r[n]=a.transform(t);continue}if(v(c=A(a.alternative))){c.label&&$(c.label.thedef.references,c),K=!0,(a=a.clone()).body=ee(be,a.body,{body:w(a.body).concat(_())});var f=m(a.alternative,c);a.alternative=ee(be,a.alternative,{body:f}),r[n]=a.transform(t);continue}}if(a instanceof Re&&a.body instanceof qe){var l=a.body.value;if(!l&&!a.alternative&&(o&&!u||u instanceof qe&&!u.value)){K=!0,r[n]=ee(me,a.condition,{body:a.condition});continue}if(l&&!a.alternative&&u instanceof qe&&u.value){K=!0,(a=a.clone()).alternative=u,r.splice(n,1,a.transform(t)),r.splice(s,1);continue}if(l&&!a.alternative&&(!u&&o&&e||u instanceof qe)){K=!0,(a=a.clone()).alternative=u||ee(qe,a,{value:null}),r.splice(n,1,a.transform(t)),u&&r.splice(s,1);continue}var p=r[b(n)];if(t.option("sequences")&&o&&!a.alternative&&p instanceof Re&&p.body instanceof qe&&g(s)==r.length&&u instanceof me){K=!0,(a=a.clone()).alternative=ee(be,u,{body:[u,ee(qe,u,{value:null})]}),r.splice(n,1,a.transform(t)),r.splice(s,1);continue}}}function d(e){for(var n=0,t=e.length;0<=--t;){var i=e[t];if(i instanceof Re&&i.body instanceof qe&&1<++n)return!0}return!1}function h(e){return!e||e instanceof rn&&"void"==e.operator}function v(e){if(!e)return!1;var n=e instanceof je?t.loopcontrol_target(e):null;return e instanceof qe&&o&&h(e.value)||e instanceof He&&i===x(n)||e instanceof Ne&&n instanceof be&&i===n}function _(){var e=r.slice(n+1);return r.length=n+1,e.filter(function(e){return!(e instanceof ze)||(r.push(e),!1)})}function m(e,n){var t=w(e).slice(0,-1);return n.value&&t.push(ee(me,n.value,{body:n.value.expression})),t}function g(e){for(var n=e+1,t=r.length;n<t;n++){var i=r[n];if(!(i instanceof We&&y(i)))break}return n}function b(e){for(var n=e;0<=--n;){var t=r[n];if(!(t instanceof We&&y(t)))break}return n}}function a(n,t){for(var e,i=t.self(),r=0,o=0,a=n.length;r<a;r++){var s=n[r];if(s instanceof je){var u=t.loopcontrol_target(s);s instanceof Ne&&!(u instanceof xe)&&x(u)===i||s instanceof He&&x(u)===i?s.label&&$(s.label.thedef.references,s):n[o++]=s}else n[o++]=s;if(A(s)){e=n.slice(r+1);break}}n.length=o,K=o!=a,e&&e.forEach(function(e){b(t,e,n)})}function y(e){return le(e.definitions,function(e){return!e.value})}function s(n,e){if(!(n.length<2)){for(var t=[],i=0,r=0,o=n.length;r<o;r++){var a=n[r];if(a instanceof me){t.length>=e.sequences_limit&&u();var s=a.body;0<t.length&&(s=s.drop_side_effect_free(e)),s&&d(t,s)}else a instanceof Je&&y(a)||a instanceof ze||u(),n[i++]=a}u(),(n.length=i)!=o&&(K=!0)}function u(){if(t.length){var e=P(t[0],t);n[i++]=ee(me,e,{body:e}),t=[]}}}function p(e,n){if(!(e instanceof be))return e;for(var t=null,i=0,r=e.body.length;i<r;i++){var o=e.body[i];if(o instanceof We&&y(o))n.push(o);else{if(t)return!1;t=o}}return t}function u(e,t){function n(e){i--,K=!0;var n=r.body;return P(n,[n,e]).transform(t)}for(var i=0,r,o=0;o<e.length;o++){var a=e[o];if(r)if(a instanceof Me)a.value=n(a.value||ee(Cn,a).transform(t));else if(a instanceof De){if(!(a.init instanceof Je)){var s=!1;r.body.walk(new zn(function(e){return!!(s||e instanceof Be)||(e instanceof an&&"in"==e.operator?s=!0:void 0)})),s||(a.init?a.init=n(a.init):(a.init=r.body,i--,K=!0))}}else a instanceof Fe?a.object=n(a.object):a instanceof Re?a.condition=n(a.condition):a instanceof Ie?a.expression=n(a.expression):a instanceof Ce&&(a.expression=n(a.expression));if(t.option("conditionals")&&a instanceof Re){var u=[],c=p(a.body,u),f=p(a.alternative,u);if(!1!==c&&!1!==f&&0<u.length){var l=u.length;u.push(ee(Re,a,{condition:a.condition,body:c||ee(ye,a.body),alternative:f})),u.unshift(i,1),[].splice.apply(e,u),o+=l,i+=l+1,K=!(r=null);continue}}e[i++]=a,r=a instanceof me?a:null}e.length=i}function f(e,n){if(e instanceof Je){var t=e.definitions[e.definitions.length-1],i;if(t.value instanceof fn)if(n instanceof un?i=[n]:n instanceof Ke&&(i=n.expressions.slice()),i){var r=!1;do{var o=i[0];if(!(o instanceof un))break;if("="!=o.operator)break;if(!(o.left instanceof Qe))break;var a=o.left.expression;if(!(a instanceof bn))break;if(t.name.name!=a.name)break;if(!o.right.is_constant_expression(Z))break;var s=o.left.property;if(s instanceof de&&(s=s.evaluate(c)),s instanceof de)break;s=""+s;var u=c.has_directive("use strict")?function(e){return e.key!=s&&e.key.name!=s}:function(e){return e.key.name!=s};if(!le(t.value.properties,u))break;t.value.properties.push(ee(ln,o,{key:s,value:o.right})),i.shift(),r=!0}while(i.length);return r&&i}}}function l(t){for(var e,n=0,i=-1,r=t.length;n<r;n++){var o=t[n],a=t[i];if(o instanceof Je)a&&a.TYPE==o.TYPE?(a.definitions=a.definitions.concat(o.definitions),K=!0):e&&e.TYPE==o.TYPE&&y(o)?(e.definitions=e.definitions.concat(o.definitions),K=!0):e=t[++i]=o;else if(o instanceof Me)o.value=u(o.value);else if(o instanceof De){var s;(s=f(a,o.init))?(K=!0,o.init=s.length?P(o.init,s):null,t[++i]=o):a instanceof We&&(!o.init||o.init.TYPE==a.TYPE)?(o.init&&(a.definitions=a.definitions.concat(o.init.definitions)),o.init=a,t[i]=o,K=!0):e&&o.init&&e.TYPE==o.init.TYPE&&y(o.init)?(e.definitions=e.definitions.concat(o.init.definitions),o.init=null,t[++i]=o,K=!0):t[++i]=o}else if(o instanceof Fe)o.object=u(o.object);else if(o instanceof Re)o.condition=u(o.condition);else if(o instanceof me){var s;if(s=f(a,o.body)){if(K=!0,!s.length)continue;o.body=P(o.body,s)}t[++i]=o}else o instanceof Ie?o.expression=u(o.expression):o instanceof Ce?o.expression=u(o.expression):t[++i]=o}function u(e){t[++i]=o;var n=f(a,e);return n?(K=!0,n.length?P(e,n):e instanceof Ke?e.tail_node().left:e.left):e}t.length=i+1}}function b(n,e,t){e instanceof ze||n.warn("Dropping unreachable code [{file}:{line},{col}]",e.start),e.walk(new zn(function(e){return e instanceof Je?(n.warn("Declarations in unreachable code! [{file}:{line},{col}]",e.start),e.remove_initializers(),t.push(e),!0):e instanceof ze?(t.push(e),!0):e instanceof Be||void 0}))}function _(e){return e instanceof xn?e.getValue():e instanceof rn&&"void"==e.operator&&e.expression instanceof xn?void 0:e}function m(e,n){return e.is_undefined||e instanceof Cn||e instanceof rn&&"void"==e.operator&&!e.expression.has_side_effects(n)}(t=function(e,n){e.DEFMETHOD("is_truthy",n)})(de,ue),t(cn,K),t(un,function(){return"="==this.operator&&this.right.is_truthy()}),t(Te,K),t(fn,K),t(kn,K),t(Ke,function(){return this.tail_node().is_truthy()}),t(bn,function(){var e=this.fixed_value();return e&&e.is_truthy()}),function(e){function t(e){return/strict/.test(e.option("pure_getters"))}de.DEFMETHOD("may_throw_on_access",function(e){return!e.option("pure_getters")||this._dot_throw(e)}),e(de,t),e(Dn,K),e(Cn,K),e(xn,ue),e(cn,ue),e(fn,function(e){if(!t(e))return!1;for(var n=this.properties.length;0<=--n;)if(this.properties[n].value instanceof Oe)return!0;return!1}),e(Te,ue),e(on,ue),e(rn,function(){return"void"==this.operator}),e(an,function(e){return("&&"==this.operator||"||"==this.operator)&&(this.left._dot_throw(e)||this.right._dot_throw(e))}),e(un,function(e){return"="==this.operator&&this.right._dot_throw(e)}),e(sn,function(e){return this.consequent._dot_throw(e)||this.alternative._dot_throw(e)}),e(en,function(e){if(!t(e))return!1;var n=this.expression;return n instanceof bn&&(n=n.fixed_value()),!(n instanceof Te&&"prototype"==this.property)}),e(Ke,function(e){return this.tail_node()._dot_throw(e)}),e(bn,function(e){if(this.is_undefined)return!0;if(!t(e))return!1;if(Y(this)&&this.is_declared(e))return!1;if(this.is_immutable())return!1;var n=this.fixed_value();return!n||n._dot_throw(e)})}(function(e,n){e.DEFMETHOD("_dot_throw",n)}),r=["!","delete"],a=["in","instanceof","==","!=","===","!==","<","<=",">=",">"],(i=function(e,n){e.DEFMETHOD("is_boolean",n)})(de,ue),i(rn,function(){return ae(this.operator,r)}),i(an,function(){return ae(this.operator,a)||re(this.operator)&&this.left.is_boolean()&&this.right.is_boolean()}),i(sn,function(){return this.consequent.is_boolean()&&this.alternative.is_boolean()}),i(un,function(){return"="==this.operator&&this.right.is_boolean()}),i(Ke,function(){return this.tail_node().is_boolean()}),i($n,K),i(On,K),function(e){e(de,ue),e(En,K);var n=fe("+ - ~ ++ --");e(tn,function(){return n(this.operator)});var t=fe("- * / % & | ^ << >> >>>");e(an,function(e){return t(this.operator)||"+"==this.operator&&this.left.is_number(e)&&this.right.is_number(e)}),e(un,function(e){return t(this.operator.slice(0,-1))||"="==this.operator&&this.right.is_number(e)}),e(Ke,function(e){return this.tail_node().is_number(e)}),e(sn,function(e){return this.consequent.is_number(e)&&this.alternative.is_number(e)})}(function(e,n){e.DEFMETHOD("is_number",n)}),(s=function(e,n){e.DEFMETHOD("is_string",n)})(de,ue),s(An,K),s(rn,function(){return"typeof"==this.operator}),s(an,function(e){return"+"==this.operator&&(this.left.is_string(e)||this.right.is_string(e))}),s(un,function(e){return("="==this.operator||"+="==this.operator)&&this.right.is_string(e)}),s(Ke,function(e){return this.tail_node().is_string(e)}),s(sn,function(e){return this.consequent.is_string(e)&&this.alternative.is_string(e)});var re=fe("&& ||"),c=fe("delete ++ --");function oe(e,n){return n instanceof tn&&c(n.operator)?n.expression:n instanceof un&&n.left===e?e:void 0}function y(e,n){return e.print_to_string().length>n.print_to_string().length?n:e}function f(e,n){return y(ee(me,e,{body:e}),ee(me,n,{body:n})).body}function W(e,n,t){return(M(e)?f:y)(n,t)}function l(e){for(var n in e)e[n]=fe(e[n])}(function(e){function a(e,n){if(e instanceof de)return ee(e.CTOR,n,e);if(Array.isArray(e))return ee(cn,n,{elements:e.map(function(e){return a(e,n)})});if(e&&"object"==typeof e){var t=[];for(var i in e)pe(e,i)&&t.push(ee(ln,n,{key:i,value:a(e[i],n)}));return ee(fn,n,{properties:t})}return U(e,n)}de.DEFMETHOD("resolve_defines",function(e){if(e.option("global_defs")){var n=this._find_defs(e,"");if(n){for(var t,i=this,r=0;t=i,(i=e.parent(r++))instanceof Qe&&i.expression===t;);if(!oe(t,i))return n;e.warn("global_defs "+this.print_to_string()+" redefined [{file}:{line},{col}]",this.start)}}}),e(de,Z),e(en,function(e,n){return this.expression._find_defs(e,"."+this.property+n)}),e(bn,function(e,n){if(this.global()){var t,i=e.option("global_defs");if(i&&pe(i,t=this.name+n)){var r=a(i[t],this),o=e.find_parent(Se);return r.walk(new zn(function(e){e instanceof bn&&(e.scope=o,e.thedef=o.def_global(e))})),r}}})})(function(e,n){e.DEFMETHOD("_find_defs",n)});var p=["constructor","toString","valueOf"],h={Array:["indexOf","join","lastIndexOf","slice"].concat(p),Boolean:p,Function:p,Number:["toExponential","toFixed","toPrecision"].concat(p),Object:p,RegExp:["test"].concat(p),String:["charAt","charCodeAt","concat","indexOf","italics","lastIndexOf","match","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase","trim"].concat(p)};l(h);var v={Array:["isArray"],Math:["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","atan2","pow","max","min"],Number:["isFinite","isNaN"],Object:["create","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","isExtensible","isFrozen","isSealed","keys"],String:["fromCharCode"]};l(v),function(e){de.DEFMETHOD("evaluate",function(e){if(!e.option("evaluate"))return this;var n=[],t=this._eval(e,n,1);return n.forEach(function(e){delete e._eval}),!t||t instanceof RegExp?t:"function"==typeof t||"object"==typeof t?this:t});var n=fe("! ~ - + void");de.DEFMETHOD("is_constant",function(){return this instanceof xn?!(this instanceof kn):this instanceof rn&&this.expression instanceof xn&&n(this.operator)}),e(he,function(){throw new Error(O("Cannot evaluate a statement [{file}:{line},{col}]",this.start))}),e(Te,S),e(de,S),e(xn,function(){return this.getValue()}),e($e,function(e){if(e.option("unsafe")){var n=function(){};return n.node=this,n.toString=function(){return"function(){}"},n}return this}),e(cn,function(e,n,t){if(e.option("unsafe")){for(var i=[],r=0,o=this.elements.length;r<o;r++){var a=this.elements[r],s=a._eval(e,n,t);if(a===s)return this;i.push(s)}return i}return this}),e(fn,function(e,n,t){if(e.option("unsafe")){for(var i={},r=0,o=this.properties.length;r<o;r++){var a=this.properties[r],s=a.key;if(s instanceof I)s=s.name;else if(s instanceof de&&(s=s._eval(e,n,t))===a.key)return this;if("function"==typeof Object.prototype[s])return this;if(!(a.value instanceof $e)&&(i[s]=a.value._eval(e,n,t),i[s]===a.value))return this}return i}return this});var r=fe("! typeof void");e(rn,function(e,n,t){var i=this.expression;if(e.option("typeofs")&&"typeof"==this.operator&&(i instanceof Te||i instanceof bn&&i.fixed_value()instanceof Te))return"function";if(r(this.operator)||t++,(i=i._eval(e,n,t))===this.expression)return this;switch(this.operator){case"!":return!i;case"typeof":return i instanceof RegExp?this:typeof i;case"void":return;case"~":return~i;case"-":return-i;case"+":return+i}return this});var a=fe("&& || === !==");e(an,function(e,n,t){a(this.operator)||t++;var i=this.left._eval(e,n,t);if(i===this.left)return this;var r=this.right._eval(e,n,t),o;if(r===this.right)return this;switch(this.operator){case"&&":o=i&&r;break;case"||":o=i||r;break;case"|":o=i|r;break;case"&":o=i&r;break;case"^":o=i^r;break;case"+":o=i+r;break;case"*":o=i*r;break;case"/":o=i/r;break;case"%":o=i%r;break;case"-":o=i-r;break;case"<<":o=i<<r;break;case">>":o=i>>r;break;case">>>":o=i>>>r;break;case"==":o=i==r;break;case"===":o=i===r;break;case"!=":o=i!=r;break;case"!==":o=i!==r;break;case"<":o=i<r;break;case"<=":o=i<=r;break;case">":o=r<i;break;case">=":o=r<=i;break;default:return this}return isNaN(o)&&e.find_parent(Ce)?this:o}),e(sn,function(e,n,t){var i=this.condition._eval(e,n,t);if(i===this.condition)return this;var r=i?this.consequent:this.alternative,o=r._eval(e,n,t);return o===r?this:o}),e(bn,function(e,n,t){var i=this.fixed_value(),r;if(!i)return this;if(0<=n.indexOf(i))r=i._eval();else{if(this._eval=S,r=i._eval(e,n,t),delete this._eval,r===i)return this;i._eval=function(){return r},n.push(i)}if(r&&"object"==typeof r){var o=this.definition().escaped;if(o&&o<t)return this}return r});var p={Array:Array,Math:Math,Number:Number,Object:Object,String:String},s={Math:["E","LN10","LN2","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],Number:["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"]};l(s),e(Qe,function(e,n,t){if(e.option("unsafe")){var i=this.property;if(i instanceof de&&(i=i._eval(e,n,t))===this.property)return this;var r=this.expression,o;if(Y(r)){if(!(s[r.name]||ue)(i))return this;o=p[r.name]}else{if(!(o=r._eval(e,n,t+1))||o===r||!pe(o,i))return this;if("function"==typeof o)switch(i){case"name":return o.node.name?o.node.name.name:"";case"length":return o.node.argnames.length;default:return this}}return o[i]}return this}),e(Xe,function(n,e,t){var i=this.expression;if(n.option("unsafe")&&i instanceof Qe){var r=i.property,o;if(r instanceof de&&(r=r._eval(n,e,t))===i.property)return this;var a=i.expression;if(Y(a)){if(!(v[a.name]||ue)(r))return this;o=p[a.name]}else if((o=a._eval(n,e,t+1))===a||!(o&&h[o.constructor.name]||ue)(r))return this;for(var s=[],u=0,c=this.args.length;u<c;u++){var f=this.args[u],l=f._eval(n,e,t);if(f===l)return this;s.push(l)}try{return o[r].apply(o,s)}catch(e){n.warn("Error evaluating {code} [{file}:{line},{col}]",{code:this.print_to_string(),file:this.start.file,line:this.start.line,col:this.start.col})}}return this}),e(Ze,S)}(function(e,n){e.DEFMETHOD("_eval",n)}),function(e){function o(e){return ee(rn,e,{operator:"!",expression:e})}function r(e,n,t){var i=o(e);if(t){var r=ee(me,n,{body:n});return y(i,r)===r?n:i}return y(i,n)}e(de,function(){return o(this)}),e(he,function(){throw new Error("Cannot negate a statement")}),e($e,function(){return o(this)}),e(rn,function(){return"!"==this.operator?this.expression:o(this)}),e(Ke,function(e){var n=this.expressions.slice();return n.push(n.pop().negate(e)),P(this,n)}),e(sn,function(e,n){var t=this.clone();return t.consequent=t.consequent.negate(e),t.alternative=t.alternative.negate(e),r(this,t,n)}),e(an,function(e,n){var t=this.clone(),i=this.operator;if(e.option("unsafe_comps"))switch(i){case"<=":return t.operator=">",t;case"<":return t.operator=">=",t;case">=":return t.operator="<",t;case">":return t.operator="<=",t}switch(i){case"==":return t.operator="!=",t;case"!=":return t.operator="==",t;case"===":return t.operator="!==",t;case"!==":return t.operator="===",t;case"&&":return t.operator="||",t.left=t.left.negate(e,n),t.right=t.right.negate(e),r(this,t,n);case"||":return t.operator="&&",t.left=t.left.negate(e,n),t.right=t.right.negate(e),r(this,t,n)}return o(this)})}(function(e,t){e.DEFMETHOD("negate",function(e,n){return t.call(this,e,n)})});var g=fe("Boolean decodeURI decodeURIComponent Date encodeURI encodeURIComponent Error escape EvalError isFinite isNaN Number Object parseFloat parseInt RangeError ReferenceError String SyntaxError TypeError unescape URIError");function A(e){return e&&e.aborts()}function E(n,t){var e=n.body instanceof be?n.body.body[0]:n.body;if(t.option("dead_code")&&r(e)){var i=[];return n.init instanceof he?i.push(n.init):n.init&&i.push(ee(me,n.init,{body:n.init})),n.condition&&i.push(ee(me,n.condition,{body:n.condition})),b(t,n.body,i),ee(be,n,{body:i})}return e instanceof Re&&(r(e.body)?(n.condition?n.condition=ee(an,n.condition,{left:n.condition,operator:"&&",right:e.condition.negate(t)}):n.condition=e.condition.negate(t),o(e.alternative)):r(e.alternative)&&(n.condition?n.condition=ee(an,n.condition,{left:n.condition,operator:"&&",right:e.condition}):n.condition=e.condition,o(e.body))),n;function r(e){return e instanceof Ne&&t.loopcontrol_target(e)===t.self()}function o(e){e=w(e),n.body instanceof be?(n.body=n.body.clone(),n.body.body=e.concat(n.body.body.slice(1)),n.body=n.body.transform(t)):n.body=ee(be,n.body,{body:e}).transform(t),n=E(n,t)}}Xe.DEFMETHOD("is_expr_pure",function(e){if(e.option("unsafe")){var n=this.expression;if(Y(n)&&g(n.name))return!0;if(n instanceof en&&Y(n.expression)&&(v[n.expression.name]||ue)(n.property))return!0}return this.pure||!e.pure_funcs(this)}),de.DEFMETHOD("is_call_pure",ue),en.DEFMETHOD("is_call_pure",function(e){if(e.option("unsafe")){var n=this.expression,t=ue;return n instanceof cn?t=h.Array:n.is_boolean()?t=h.Boolean:n.is_number(e)?t=h.Number:n instanceof kn?t=h.RegExp:n.is_string(e)?t=h.String:this.may_throw_on_access(e)||(t=h.Object),t(this.property)}}),function(e){function n(e,n){for(var t=e.length;0<=--t;)if(e[t].has_side_effects(n))return!0;return!1}e(de,K),e(ye,ue),e(xn,ue),e(wn,ue),e(ge,function(e){return n(this.body,e)}),e(Xe,function(e){return!(this.is_expr_pure(e)||this.expression.is_call_pure(e)&&!this.expression.has_side_effects(e))||n(this.args,e)}),e(Ie,function(e){return this.expression.has_side_effects(e)||n(this.body,e)}),e(Ue,function(e){return this.expression.has_side_effects(e)||n(this.body,e)}),e(Le,function(e){return n(this.body,e)||this.bcatch&&this.bcatch.has_side_effects(e)||this.bfinally&&this.bfinally.has_side_effects(e)}),e(Re,function(e){return this.condition.has_side_effects(e)||this.body&&this.body.has_side_effects(e)||this.alternative&&this.alternative.has_side_effects(e)}),e(we,function(e){return this.body.has_side_effects(e)}),e(me,function(e){return this.body.has_side_effects(e)}),e(Te,ue),e(an,function(e){return this.left.has_side_effects(e)||this.right.has_side_effects(e)}),e(un,K),e(sn,function(e){return this.condition.has_side_effects(e)||this.consequent.has_side_effects(e)||this.alternative.has_side_effects(e)}),e(tn,function(e){return c(this.operator)||this.expression.has_side_effects(e)}),e(bn,function(e){return!this.is_declared(e)}),e(pn,ue),e(fn,function(e){return n(this.properties,e)}),e(R,function(e){return this.value.has_side_effects(e)}),e(cn,function(e){return n(this.elements,e)}),e(en,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)}),e(nn,function(e){return this.expression.may_throw_on_access(e)||this.expression.has_side_effects(e)||this.property.has_side_effects(e)}),e(Ke,function(e){return n(this.expressions,e)}),e(Je,function(e){return n(this.definitions,e)}),e(Ge,function(e){return this.value})}(function(e,n){e.DEFMETHOD("has_side_effects",n)}),function(e){function n(e,n){for(var t=e.length;0<=--t;)if(e[t].may_throw(n))return!0;return!1}e(de,K),e(xn,ue),e(ye,ue),e(Te,ue),e(pn,ue),e(wn,ue),e(cn,function(e){return n(this.elements,e)}),e(un,function(e){return!!this.right.may_throw(e)||!(!e.has_directive("use strict")&&"="==this.operator&&this.left instanceof bn)&&this.left.may_throw(e)}),e(an,function(e){return this.left.may_throw(e)||this.right.may_throw(e)}),e(ge,function(e){return n(this.body,e)}),e(Xe,function(e){return!!n(this.args,e)||!this.is_expr_pure(e)&&(!!this.expression.may_throw(e)||(!(this.expression instanceof Te)||n(this.expression.body,e)))}),e(Ue,function(e){return this.expression.may_throw(e)||n(this.body,e)}),e(sn,function(e){return this.condition.may_throw(e)||this.consequent.may_throw(e)||this.alternative.may_throw(e)}),e(Je,function(e){return n(this.definitions,e)}),e(en,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)}),e(Re,function(e){return this.condition.may_throw(e)||this.body&&this.body.may_throw(e)||this.alternative&&this.alternative.may_throw(e)}),e(we,function(e){return this.body.may_throw(e)}),e(fn,function(e){return n(this.properties,e)}),e(R,function(e){return this.value.may_throw(e)}),e(qe,function(e){return this.value&&this.value.may_throw(e)}),e(Ke,function(e){return n(this.expressions,e)}),e(me,function(e){return this.body.may_throw(e)}),e(nn,function(e){return this.expression.may_throw_on_access(e)||this.expression.may_throw(e)||this.property.may_throw(e)}),e(Ie,function(e){return this.expression.may_throw(e)||n(this.body,e)}),e(bn,function(e){return!this.is_declared(e)}),e(Le,function(e){return this.bcatch?this.bcatch.may_throw(e):n(this.body,e)||this.bfinally&&this.bfinally.may_throw(e)}),e(tn,function(e){return!("typeof"==this.operator&&this.expression instanceof bn)&&this.expression.may_throw(e)}),e(Ge,function(e){return!!this.value&&this.value.may_throw(e)})}(function(e,n){e.DEFMETHOD("may_throw",n)}),function(e){function n(e){for(var n=e.length;0<=--n;)if(!e[n].is_constant_expression())return!1;return!0}e(de,ue),e(xn,K),e(Te,function(i){var r=this,o=!0;return r.walk(new zn(function(e){if(!o)return!0;if(e instanceof bn){if(r.inlined)return!(o=!1);var n=e.definition();if(ae(n,r.enclosed)&&!r.variables.has(n.name)){if(i){var t=i.find_variable(e);if(n.undeclared?!t:t===n)return o="f",!0}o=!1}return!0}})),o}),e(tn,function(){return this.expression.is_constant_expression()}),e(an,function(){return this.left.is_constant_expression()&&this.right.is_constant_expression()}),e(cn,function(){return n(this.elements)}),e(fn,function(){return n(this.properties)}),e(R,function(){return this.value.is_constant_expression()})}(function(e,n){e.DEFMETHOD("is_constant_expression",n)}),function(e){function n(){var e=this.body.length;return 0<e&&A(this.body[e-1])}e(he,T),e(N,S),e(be,n),e(H,n),e(Re,function(){return this.alternative&&A(this.body)&&A(this.alternative)&&this})}(function(e,n){e.DEFMETHOD("aborts",n)}),e(_e,function(e,n){return n.has_directive(e.value)!==e?ee(ye,e):e}),e(ve,function(e,n){return n.option("drop_debugger")?ee(ye,e):e}),e(we,function(e,n){return e.body instanceof Ne&&n.loopcontrol_target(e.body)===e.body?ee(ye,e):0==e.label.references.length?e.body:e}),e(ge,function(e,n){return u(e.body,n),e}),e(be,function(e,n){switch(u(e.body,n),e.body.length){case 1:return e.body[0];case 0:return ee(ye,e)}return e}),e(Te,function(e,n){return u(e.body,n),n.option("side_effects")&&1==e.body.length&&e.body[0]===n.has_directive("use strict")&&(e.body.length=0),e}),Be.DEFMETHOD("drop_unused",function(y){if(y.option("unused")&&!y.has_directive("use asm")){var w=this;if(!w.uses_eval&&!w.uses_with){var x=!(w instanceof Se)||y.toplevel.funcs,A=!(w instanceof Se)||y.toplevel.vars,E=/keep_assign/.test(y.option("unused"))?ue:function(e,n){var t;if(e instanceof un&&(e.write_only||"="==e.operator)?t=e.left:e instanceof tn&&e.write_only&&(t=e.expression),/strict/.test(y.option("pure_getters")))for(;t instanceof Qe&&!t.expression.may_throw_on_access(y);)t instanceof nn&&n.unshift(t.property),t=t.expression;return t},s=[],k=Object.create(null),D=Object.create(null),u=Object.create(null),c=Object.create(null);w instanceof Se&&y.top_retain&&w.variables.each(function(e){!y.top_retain(e)||e.id in k||(k[e.id]=!0,s.push(e))});var F=new z,i=new z,C=this,f=new zn(function(e,n){if(e!==w){if(e instanceof ze){var t=e.name.definition();return x||C!==w||t.id in k||(k[t.id]=!0,s.push(t)),i.add(t.id,e),!0}return e instanceof hn&&C===w&&F.add(e.definition().id,e),e instanceof Je&&C===w?(e.definitions.forEach(function(e){var n=e.name.definition();e.name instanceof dn&&F.add(n.id,e),A||n.id in k||(k[n.id]=!0,s.push(n)),e.value&&(i.add(n.id,e.value),e.value.has_side_effects(y)&&e.value.walk(f),n.chained||e.name.fixed_value()!==e.value||(D[n.id]=e))}),!0):r(e,n)}});w.walk(f),f=new zn(r);for(var e=0;e<s.length;e++){var n=i.get(s[e].id);n&&n.forEach(function(e){e.walk(f)})}var B=new et(function e(a,n,t){var i=B.parent();if(A){var r=[],o;if((o=E(a,r))instanceof bn){var s,u=(s=o.definition()).id in k,c=null;if(a instanceof un?(!u||a.left===o&&s.id in D&&D[s.id]!==a)&&(c=a.right):u||(c=ee(En,a,{value:0})),c)return r.push(c),ne(i,a,P(a,r.map(function(e){return e.transform(B)})))}}if(C===w){var s,s,f;if(a instanceof $e&&a.name&&!y.option("keep_fnames"))(s=a.name.definition()).id in k&&!(1<s.orig.length)||(a.name=null);if(a instanceof Te&&!(a instanceof Oe))for(var l=!y.option("keep_fargs"),p=a.argnames,d=p.length;0<=--d;){var o;(o=p[d]).definition().id in k?l=!1:(o.__unused=!0,l&&(p.pop(),y[o.unreferenced()?"warn":"info"]("Dropping unused function argument {name} [{file}:{line},{col}]",b(o))))}if(x&&a instanceof ze&&a!==w)if(!((s=a.name.definition()).id in k))return y[a.name.unreferenced()?"warn":"info"]("Dropping unused function {name} [{file}:{line},{col}]",b(a.name)),s.eliminated++,ee(ye,a);if(a instanceof Je&&!(i instanceof Fe&&i.init===a)){var h=[],v=[],_=[],m=[];switch(a.definitions.forEach(function(e){e.value&&(e.value=e.value.transform(B));var n=e.name.definition();if(!A||n.id in k){if(e.value&&n.id in D&&D[n.id]!==e&&(e.value=e.value.drop_side_effect_free(y)),e.name instanceof dn){var t=F.get(n.id);if(1<t.length&&(!e.value||n.orig.indexOf(e.name)>n.eliminated)){if(y.warn("Dropping duplicated definition of variable {name} [{file}:{line},{col}]",b(e.name)),e.value){var i=ee(bn,e.name,e.name);n.references.push(i);var r=ee(un,e,{operator:"=",left:i,right:e.value});D[n.id]===e&&(D[n.id]=r),m.push(r.transform(B))}return $(t,e),void n.eliminated++}}e.value?(0<m.length&&(0<_.length?(m.push(e.value),e.value=P(e.value,m)):h.push(ee(me,a,{body:P(a,m)})),m=[]),_.push(e)):v.push(e)}else if(n.orig[0]instanceof mn){var o;(o=e.value&&e.value.drop_side_effect_free(y))&&m.push(o),e.value=null,v.push(e)}else{var o;(o=e.value&&e.value.drop_side_effect_free(y))?(y.warn("Side effects in initialization of unused variable {name} [{file}:{line},{col}]",b(e.name)),m.push(o)):y[e.name.unreferenced()?"warn":"info"]("Dropping unused variable {name} [{file}:{line},{col}]",b(e.name)),n.eliminated++}}),(0<v.length||0<_.length)&&(a.definitions=v.concat(_),h.push(a)),0<m.length&&h.push(ee(me,a,{body:P(a,m)})),h.length){case 0:return t?ce.skip:ee(ye,a);case 1:return h[0];default:return t?ce.splice(h):ee(be,a,{body:h})}}if(a instanceof De)return n(a,this),a.init instanceof be&&(f=a.init,a.init=f.body.pop(),f.body.push(a)),a.init instanceof me?a.init=a.init.body:L(a.init)&&(a.init=null),f?t?ce.splice(f.body):f:a;if(a instanceof we&&a.body instanceof De){if(n(a,this),a.body instanceof be){var f=a.body;return a.body=f.body.pop(),f.body.push(a),t?ce.splice(f.body):f}return a}if(a instanceof Be){var g=C;return n(C=a,this),C=g,a}}function b(e){return{name:e.name,file:e.start.file,line:e.start.line,col:e.start.col}}});w.transform(B)}}function l(e,n,t){e.id in k||(n&&t?(k[e.id]=!0,s.push(e)):(u[e.id]=n,c[e.id]=t))}function r(e,n){var t,i=[],r=E(e,i);if(r instanceof bn&&w.variables.get(r.name)===(t=r.definition())){if(i.forEach(function(e){e.walk(f)}),e instanceof un)if(e.right.walk(f),e.left===r)t.chained||r.fixed_value()!==e.right||(D[t.id]=e),e.write_only||l(t,!0,c[t.id]);else{var o=r.fixed_value();o&&o.is_constant()||l(t,u[t.id],!0)}return!0}if(e instanceof bn)return(t=e.definition()).id in k||(k[t.id]=!0,s.push(t)),!0;if(e instanceof Be){var a=C;return C=e,n(),C=a,!0}}}),Be.DEFMETHOD("hoist_declarations",function(o){var a=this;if(o.has_directive("use asm"))return a;var s=o.option("hoist_funs"),u=o.option("hoist_vars");if(s||u){var c=[],f=[],l=new z,p=0,n=0;a.walk(new zn(function(e){return e instanceof Be&&e!==a||(e instanceof We?(++n,!0):void 0)})),u=u&&1<n;var d=new et(function e(n){if(n!==a){if(n instanceof _e)return c.push(n),ee(ye,n);if(s&&n instanceof ze&&(d.parent()===a||!o.has_directive("use strict")))return f.push(n),ee(ye,n);if(u&&n instanceof We){n.definitions.forEach(function(e){l.set(e.name.name,e),++p});var t=n.to_assignments(o),i=d.parent();if(i instanceof Fe&&i.init===n){if(null==t){var r=n.definitions[0].name;return ee(bn,r,r)}return t}return i instanceof De&&i.init===n?t:t?ee(me,n,{body:t}):ee(ye,n)}if(n instanceof Be)return n}});if(a=a.transform(d),0<p){var t=[];if(l.each(function(n,e){a instanceof Te&&se(function(e){return e.name==n.name.name},a.argnames)?l.del(e):((n=n.clone()).value=null,t.push(n),l.set(e,n))}),0<t.length){for(var e=0;e<a.body.length;){if(a.body[e]instanceof me){var i=a.body[e].body,r,h;if(i instanceof un&&"="==i.operator&&(r=i.left)instanceof I&&l.has(r.name)){var v;if((v=l.get(r.name)).value)break;v.value=i.right,$(t,v),t.push(v),a.body.splice(e,1);continue}if(i instanceof Ke&&(h=i.expressions[0])instanceof un&&"="==h.operator&&(r=h.left)instanceof I&&l.has(r.name)){var v;if((v=l.get(r.name)).value)break;v.value=h.right,$(t,v),t.push(v),a.body[e].body=P(i,i.expressions.slice(1));continue}}if(a.body[e]instanceof ye)a.body.splice(e,1);else{if(!(a.body[e]instanceof be))break;var _=[e,1].concat(a.body[e].body);a.body.splice.apply(a.body,_)}}t=ee(We,a,{definitions:t}),f.push(t)}}a.body=c.concat(f,a.body)}return a}),Be.DEFMETHOD("var_names",function(){var t=this._var_names;return t||(this._var_names=t=Object.create(null),this.enclosed.forEach(function(e){t[e.name]=!0}),this.variables.each(function(e,n){t[n]=!0})),t}),Be.DEFMETHOD("make_var_name",function(e){for(var n=this.var_names(),t=e=e.replace(/(?:^[^a-z_$]|[^a-z0-9_$])/gi,"_"),i=0;n[t];i++)t=e+"$"+i;return n[t]=!0,t}),Be.DEFMETHOD("hoist_properties",function(e){var u=this;if(!e.option("hoist_props")||e.has_directive("use asm"))return u;var c=u instanceof Se&&e.top_retain||ue,f=Object.create(null);return u.transform(new et(function(n,e){var i,t,r,o;if(n instanceof Ge&&((i=n.name).scope===u&&1!=(t=i.definition()).escaped&&!t.single_use&&!t.direct_access&&!c(t)&&(r=i.fixed_value())===n.value&&r instanceof fn)){e(n,this);var o=new z,a=[];return r.properties.forEach(function(e){a.push(ee(Ge,n,{name:s(e.key),value:e.value}))}),f[t.id]=o,ce.splice(a)}if(n instanceof Qe&&n.expression instanceof bn&&(o=f[n.expression.definition().id])){var t=o.get(_(n.property)),i;return(i=ee(bn,n,{name:t.name,scope:n.expression.scope,thedef:t})).reference({}),i}function s(e){var n=ee(i.CTOR,i,{name:u.make_var_name(i.name+"_"+e),scope:u}),t=u.def_variable(n);return o.set(e,t),u.enclosed.push(t),n}}))}),function(e){function a(e,n,t){var i=e.length;if(!i)return null;for(var r=[],o=!1,a=0;a<i;a++){var s=e[a].drop_side_effect_free(n,t);o|=s!==e[a],s&&(r.push(s),t=!1)}return o?r.length?r:null:e}e(de,S),e(xn,T),e(wn,T),e(Xe,function(n,e){if(!this.is_expr_pure(n)){if(this.expression.is_call_pure(n)){var t=this.args.slice();return t.unshift(this.expression.expression),(t=a(t,n,e))&&P(this,t)}if(this.expression instanceof $e&&(!this.expression.name||!this.expression.name.definition().references.length)){var i=this.clone(),r=i.expression;return r.process_expression(!1,n),r.walk(new zn(function(e){return e instanceof qe&&e.value?(e.value=e.value.drop_side_effect_free(n),!0):e instanceof Be&&e!==r||void 0})),i}return this}this.pure&&n.warn("Dropping __PURE__ call [{file}:{line},{col}]",this.start);var o=a(this.args,n,e);return o&&P(this,o)}),e(Oe,T),e($e,T),e(an,function(e,n){var t=this.right.drop_side_effect_free(e);if(!t)return this.left.drop_side_effect_free(e,n);if(re(this.operator)){if(t===this.right)return this;var i=this.clone();return i.right=t,i}var r=this.left.drop_side_effect_free(e,n);return r?P(this,[r,t]):this.right.drop_side_effect_free(e,n)}),e(un,function(e){var n=this.left;return n.has_side_effects(e)||e.has_directive("use strict")&&n instanceof Qe&&n.expression.is_constant()?this:(this.write_only=!0,te(n).is_constant_expression(e.find_parent(Be))?this.right.drop_side_effect_free(e):this)}),e(sn,function(e){var n=this.consequent.drop_side_effect_free(e),t=this.alternative.drop_side_effect_free(e);if(n===this.consequent&&t===this.alternative)return this;if(!n)return t?ee(an,this,{operator:"||",left:this.condition,right:t}):this.condition.drop_side_effect_free(e);if(!t)return ee(an,this,{operator:"&&",left:this.condition,right:n});var i=this.clone();return i.consequent=n,i.alternative=t,i}),e(tn,function(e,n){if(c(this.operator))return this.write_only=!this.expression.has_side_effects(e),this;if("typeof"==this.operator&&this.expression instanceof bn)return null;var t=this.expression.drop_side_effect_free(e,n);return n&&t&&V(t)?t===this.expression&&"!"==this.operator?this:t.negate(e,n):t}),e(bn,function(e){return this.is_declared(e)?null:this}),e(fn,function(e,n){var t=a(this.properties,e,n);return t&&P(this,t)}),e(R,function(e,n){return this.value.drop_side_effect_free(e,n)}),e(cn,function(e,n){var t=a(this.elements,e,n);return t&&P(this,t)}),e(en,function(e,n){return this.expression.may_throw_on_access(e)?this:this.expression.drop_side_effect_free(e,n)}),e(nn,function(e,n){if(this.expression.may_throw_on_access(e))return this;var t=this.expression.drop_side_effect_free(e,n);if(!t)return this.property.drop_side_effect_free(e,n);var i=this.property.drop_side_effect_free(e);return i?P(this,[t,i]):t}),e(Ke,function(e){var n=this.tail_node(),t=n.drop_side_effect_free(e);if(t===n)return this;var i=this.expressions.slice(0,-1);return t&&i.push(t),P(this,i)})}(function(e,n){e.DEFMETHOD("drop_side_effect_free",n)}),e(me,function(e,n){if(n.option("side_effects")){var t=e.body,i=t.drop_side_effect_free(n,!0);if(!i)return n.warn("Dropping side-effect-free statement [{file}:{line},{col}]",e.start),ee(ye,e);if(i!==t)return ee(me,e,{body:i})}return e}),e(ke,function(e,n){return n.option("loops")?ee(De,e,e).optimize(n):e}),e(Ee,function(n,e){if(!e.option("loops"))return n;var t=n.condition.is_truthy()||n.condition.tail_node().evaluate(e);if(!(t instanceof de)){if(t)return ee(De,n,{body:ee(be,n.body,{body:[n.body,ee(me,n.condition,{body:n.condition})]})}).optimize(e);var i=!1,r=new zn(function(e){return!!(e instanceof Be||i)||(e instanceof je&&r.loopcontrol_target(e)===n?i=!0:void 0)}),o=e.parent();if((o instanceof we?o:n).walk(r),!i)return ee(be,n.body,{body:[n.body,ee(me,n.condition,{body:n.condition})]}).optimize(e)}return n.body instanceof me?ee(De,n,{condition:P(n.condition,[n.body.body,n.condition]),body:ee(ye,n)}).optimize(e):n}),e(De,function(e,n){if(!n.option("loops"))return e;if(n.option("side_effects")&&e.init&&(e.init=e.init.drop_side_effect_free(n)),e.condition){var t=e.condition.evaluate(n);if(!(t instanceof de))if(t)e.condition=null;else if(!n.option("dead_code")){var i=e.condition;e.condition=U(t,e.condition),e.condition=y(e.condition.transform(n),i)}if(t instanceof de&&(t=e.condition.is_truthy()||e.condition.tail_node().evaluate(n)),t)!e.condition||t instanceof de||(e.body=ee(be,e.body,{body:[ee(me,e.condition,{body:e.condition}),e.body]}),e.condition=null);else if(n.option("dead_code")){var r=[];return b(n,e.body,r),e.init instanceof he?r.push(e.init):e.init&&r.push(ee(me,e.init,{body:e.init})),r.push(ee(me,e.condition,{body:e.condition})),ee(be,e,{body:r}).optimize(n)}}return E(e,n)}),e(Re,function(e,n){if(L(e.alternative)&&(e.alternative=null),!n.option("conditionals"))return e;var t=e.condition.evaluate(n);if(!(n.option("dead_code")||t instanceof de)){var i=e.condition;e.condition=U(t,i),e.condition=y(e.condition.transform(n),i)}if(n.option("dead_code")){if(t instanceof de&&(t=e.condition.is_truthy()||e.condition.tail_node().evaluate(n)),!t){n.warn("Condition always false [{file}:{line},{col}]",e.condition.start);var r=[];return b(n,e.body,r),r.push(ee(me,e.condition,{body:e.condition})),e.alternative&&r.push(e.alternative),ee(be,e,{body:r}).optimize(n)}if(!(t instanceof de)){n.warn("Condition always true [{file}:{line},{col}]",e.condition.start);var r=[];return e.alternative&&b(n,e.alternative,r),r.push(ee(me,e.condition,{body:e.condition})),r.push(e.body),ee(be,e,{body:r}).optimize(n)}}var o=e.condition.negate(n),a=e.condition.print_to_string().length,s=o.print_to_string().length,u=s<a;if(e.alternative&&u){u=!1,e.condition=o;var c=e.body;e.body=e.alternative||ee(ye,e),e.alternative=c}if(L(e.body)&&L(e.alternative))return ee(me,e.condition,{body:e.condition.clone()}).optimize(n);if(e.body instanceof me&&e.alternative instanceof me)return ee(me,e,{body:ee(sn,e,{condition:e.condition,consequent:e.body.body,alternative:e.alternative.body})}).optimize(n);if(L(e.alternative)&&e.body instanceof me)return a===s&&!u&&e.condition instanceof an&&"||"==e.condition.operator&&(u=!0),u?ee(me,e,{body:ee(an,e,{operator:"||",left:o,right:e.body.body})}).optimize(n):ee(me,e,{body:ee(an,e,{operator:"&&",left:e.condition,right:e.body.body})}).optimize(n);if(e.body instanceof ye&&e.alternative instanceof me)return ee(me,e,{body:ee(an,e,{operator:"||",left:e.condition,right:e.alternative.body})}).optimize(n);if(e.body instanceof Me&&e.alternative instanceof Me&&e.body.TYPE==e.alternative.TYPE)return ee(e.body.CTOR,e,{value:ee(sn,e,{condition:e.condition,consequent:e.body.value||ee(Cn,e.body),alternative:e.alternative.value||ee(Cn,e.alternative)}).transform(n)}).optimize(n);if(e.body instanceof Re&&!e.body.alternative&&!e.alternative&&(e=ee(Re,e,{condition:ee(an,e.condition,{operator:"&&",left:e.condition,right:e.body.condition}),body:e.body.body,alternative:null})),A(e.body)&&e.alternative){var f=e.alternative;return e.alternative=null,ee(be,e,{body:[e,f]}).optimize(n)}if(A(e.alternative)){var r=e.body;return e.body=e.alternative,e.condition=u?o:e.condition.negate(n),e.alternative=null,ee(be,e,{body:[e,r]}).optimize(n)}return e}),e(Ie,function(n,t){if(!t.option("switches"))return n;var e,i=n.expression.evaluate(t);if(!(i instanceof de)){var r=n.expression;n.expression=U(i,r),n.expression=y(n.expression.transform(t),r)}if(!t.option("dead_code"))return n;i instanceof de&&(i=n.expression.tail_node().evaluate(t));for(var o=[],a=[],s,u,c=0,f=n.body.length;c<f&&!u;c++){if((e=n.body[c])instanceof Pe)s?g(e,a[a.length-1]):s=e;else if(!(i instanceof de)){var l;if(!((l=e.expression.evaluate(t))instanceof de)&&l!==i){g(e,a[a.length-1]);continue}if(l instanceof de&&(l=e.expression.tail_node().evaluate(t)),l===i&&(u=e,s)){var p=a.indexOf(s);a.splice(p,1),g(s,a[p-1]),s=null}}if(A(e)){var d=a[a.length-1];A(d)&&d.body.length==e.body.length&&ee(be,d,d).equivalent_to(ee(be,e,e))&&(d.body=[])}a.push(e)}for(;c<f;)g(n.body[c++],a[a.length-1]);for(0<a.length&&(a[0].body=o.concat(a[0].body)),n.body=a;e=a[a.length-1];){var h=e.body[e.body.length-1];if(h instanceof Ne&&t.loopcontrol_target(h)===n&&e.body.pop(),e.body.length||e instanceof Ue&&(s||e.expression.has_side_effects(t)))break;a.pop()===s&&(s=null)}if(0==a.length)return ee(be,n,{body:o.concat(ee(me,n.expression,{body:n.expression}))}).optimize(t);if(1==a.length&&(a[0]===u||a[0]===s)){var v=!1,_=new zn(function(e){if(v||e instanceof Te||e instanceof me)return!0;e instanceof Ne&&_.loopcontrol_target(e)===n&&(v=!0)});if(n.walk(_),!v){var m=a[0].body.slice(),l;return(l=a[0].expression)&&m.unshift(ee(me,l,{body:l})),m.unshift(ee(me,n.expression,{body:n.expression})),ee(be,n,{body:m}).optimize(t)}}return n;function g(e,n){n&&!A(n)?n.body=n.body.concat(e.body):b(t,e,o)}}),e(Le,function(e,n){if(u(e.body,n),e.bcatch&&e.bfinally&&le(e.bfinally.body,L)&&(e.bfinally=null),n.option("dead_code")&&le(e.body,L)){var t=[];return e.bcatch&&(b(n,e.bcatch,t),t.forEach(function(e){e instanceof Je&&e.definitions.forEach(function(e){var n=e.name.definition().redefined();n&&(e.name=e.name.clone(),e.name.thedef=n)})})),e.bfinally&&(t=t.concat(e.bfinally.body)),ee(be,e,{body:t}).optimize(n)}return e}),Je.DEFMETHOD("remove_initializers",function(){this.definitions.forEach(function(e){e.value=null})}),Je.DEFMETHOD("to_assignments",function(e){var i=e.option("reduce_vars"),n=this.definitions.reduce(function(e,n){if(n.value){var t=ee(bn,n.name,n.name);e.push(ee(un,n,{operator:"=",left:t,right:n.value})),i&&(t.definition().fixed=!1)}return(n=n.name.definition()).eliminated++,n.replaced--,e},[]);return 0==n.length?null:P(this,n)}),e(Je,function(e,n){return 0==e.definitions.length?ee(ye,e):e}),e(Xe,function(s,r){var e=s.expression,p=e;r.option("reduce_vars")&&p instanceof bn&&(p=p.fixed_value());var n=p instanceof Te;if(r.option("unused")&&n&&!p.uses_arguments&&!p.uses_eval){for(var t=0,i=0,o=0,a=s.args.length;o<a;o++){var u=o>=p.argnames.length,c;if(u||p.argnames[o].__unused){if(c=s.args[o].drop_side_effect_free(r))s.args[t++]=c;else if(!u){s.args[t++]=ee(En,s.args[o],{value:0});continue}}else s.args[t++]=s.args[o];i=t}s.args.length=i}if(r.option("unsafe"))if(Y(e))switch(e.name){case"Array":if(1!=s.args.length)return ee(cn,s,{elements:s.args}).optimize(r);break;case"Object":if(0==s.args.length)return ee(fn,s,{properties:[]});break;case"String":if(0==s.args.length)return ee(An,s,{value:""});if(s.args.length<=1)return ee(an,s,{left:s.args[0],operator:"+",right:ee(An,s,{value:""})}).optimize(r);break;case"Number":if(0==s.args.length)return ee(En,s,{value:0});if(1==s.args.length)return ee(rn,s,{expression:s.args[0],operator:"+"}).optimize(r);case"Boolean":if(0==s.args.length)return ee(On,s);if(1==s.args.length)return ee(rn,s,{expression:ee(rn,s,{expression:s.args[0],operator:"!"}),operator:"!"}).optimize(r);break;case"RegExp":var f=[];if(le(s.args,function(e){var n=e.evaluate(r);return f.unshift(n),e!==n}))try{return W(r,s,ee(kn,s,{value:RegExp.apply(RegExp,f)}))}catch(e){r.warn("Error converting {expr} [{file}:{line},{col}]",{expr:s.print_to_string(),file:s.start.file,line:s.start.line,col:s.start.col})}}else if(e instanceof en)switch(e.property){case"toString":if(0==s.args.length&&!e.expression.may_throw_on_access(r))return ee(an,s,{left:ee(An,s,{value:""}),operator:"+",right:e.expression}).optimize(r);break;case"join":var l;if(e.expression instanceof cn)if(!(0<s.args.length&&(l=s.args[0].evaluate(r))===s.args[0])){var d=[],h=[],v,c;return e.expression.elements.forEach(function(e){var n=e.evaluate(r);n!==e?h.push(n):(0<h.length&&(d.push(ee(An,s,{value:h.join(l)})),h.length=0),d.push(e))}),0<h.length&&d.push(ee(An,s,{value:h.join(l)})),0==d.length?ee(An,s,{value:""}):1==d.length?d[0].is_string(r)?d[0]:ee(an,d[0],{operator:"+",left:ee(An,s,{value:""}),right:d[0]}):""==l?(v=d[0].is_string(r)||d[1].is_string(r)?d.shift():ee(An,s,{value:""}),d.reduce(function(e,n){return ee(an,n,{operator:"+",left:e,right:n})},v).optimize(r)):((c=s.clone()).expression=c.expression.clone(),c.expression.expression=c.expression.expression.clone(),c.expression.expression.elements=d,W(r,s,c))}break;case"charAt":if(e.expression.is_string(r)){var _=s.args[0],m=_?_.evaluate(r):0;if(m!==_)return ee(nn,e,{expression:e.expression,property:U(0|m,_||e)}).optimize(r)}break;case"apply":var g;if(2==s.args.length&&s.args[1]instanceof cn)return(g=s.args[1].elements.slice()).unshift(s.args[0]),ee(Xe,s,{expression:ee(en,e,{expression:e.expression,property:"call"}),args:g}).optimize(r);break;case"call":var b=e.expression;if(b instanceof bn&&(b=b.fixed_value()),b instanceof Te&&!b.contains_this())return P(this,[s.args[0],ee(Xe,s,{expression:e.expression,args:s.args.slice(1)})]).optimize(r)}if(r.option("unsafe_Function")&&Y(e)&&"Function"==e.name){if(0==s.args.length)return ee($e,s,{argnames:[],body:[]});if(le(s.args,function(e){return e instanceof An}))try{var y,w=Qn(y="n(function("+s.args.slice(0,-1).map(function(e){return e.value}).join(",")+"){"+s.args[s.args.length-1].value+"})"),x={ie8:r.option("ie8")};w.figure_out_scope(x);var A=new rt(r.options),E;(w=w.transform(A)).figure_out_scope(x),w.compute_char_frequency(x),w.mangle_names(x),w.walk(new zn(function(e){return!!E||(e instanceof Te?(E=e,!0):void 0)}));var y=it();return be.prototype._codegen.call(E,E,y),s.args=[ee(An,s,{value:E.argnames.map(function(e){return e.print_to_string()}).join(",")}),ee(An,s.args[s.args.length-1],{value:y.get().replace(/^\{|\}$/g,"")})],s}catch(e){if(!(e instanceof Un))throw e;r.warn("Error parsing code passed to new Function [{file}:{line},{col}]",s.args[s.args.length-1].start),r.warn(e.toString())}}var k=n&&p.body[0],D;if(r.option("inline")&&k instanceof qe&&(!(D=k.value)||D.is_constant_expression())){var g=s.args.concat(D||ee(Cn,s));return P(s,g).optimize(r)}if(n){var F,D,C,B,S=-1;if(r.option("inline")&&!p.uses_arguments&&!p.uses_eval&&!(p.name&&p instanceof $e)&&(D=z(k))&&(e===p||r.option("unused")&&1==(F=e.definition()).references.length&&!G(r,F)&&p.is_constant_expression(e.scope))&&!s.pure&&!p.contains_this()&&j())return p._squeezed=!0,P(s,I()).optimize(r);if(r.option("side_effects")&&le(p.body,L)){var g=s.args.concat(ee(Cn,s));return P(s,g).optimize(r)}}if(r.option("drop_console")&&e instanceof Qe){for(var T=e.expression;T.expression;)T=T.expression;if(Y(T)&&"console"==T.name)return ee(Cn,s).optimize(r)}if(r.option("negate_iife")&&r.parent()instanceof me&&V(s))return s.negate(r,!0);var O=s.evaluate(r);return O!==s?(O=U(O,s).optimize(r),W(r,O,s)):s;function $(e){return e?e instanceof qe?e.value?e.value.clone(!0):ee(Cn,s):e instanceof me?ee(rn,e,{operator:"void",expression:e.body.clone(!0)}):void 0:ee(Cn,s)}function z(e){var n=p.body.length;if(r.option("inline")<3)return 1==n&&$(e);e=null;for(var t=0;t<n;t++){var i=p.body[t];if(i instanceof We){if(e&&!le(i.definitions,function(e){return!e.value}))return!1}else{if(i instanceof ye)continue;if(e)return!1;e=i}}return $(e)}function M(e,n){for(var t=0,i=p.argnames.length;t<i;t++){var r=p.argnames[t];if(!r.__unused){if(!n||e[r.name]||J(r.name)||C.var_names()[r.name])return!1;B&&B.push(r.definition())}}return!0}function q(e,n){for(var t=p.body.length,i=0;i<t;i++){var r=p.body[i];if(r instanceof We){if(!n)return!1;for(var o=r.definitions.length;0<=--o;){var a=r.definitions[o].name;if(e[a.name]||J(a.name)||C.var_names()[a.name])return!1;B&&B.push(a.definition())}}}return!0}function j(){var e=Object.create(null);do{if((C=r.parent(++S))instanceof Ve)e[C.argname.name]=!0;else if(C instanceof xe)B=[];else if(C instanceof bn&&C.fixed_value()instanceof Be)return!1}while(!(C instanceof Be));var n=!(C instanceof Se)||r.toplevel.vars,t=r.option("inline");return!!q(e,3<=t&&n)&&(!!M(e,2<=t&&n)&&(!B||0==B.length||!X(p,B)))}function N(e,n,t,i){var r=t.definition();C.variables.set(t.name,r),C.enclosed.push(r),C.var_names()[t.name]||(C.var_names()[t.name]=!0,e.push(ee(Ge,t,{name:t,value:null})));var o=ee(bn,t,t);r.references.push(o),i&&n.push(ee(un,s,{operator:"=",left:o,right:i}))}function H(e,n){for(var t=p.argnames.length,i=s.args.length;--i>=t;)n.push(s.args[i]);for(i=t;0<=--i;){var r=p.argnames[i],o=s.args[i];if(r.__unused||C.var_names()[r.name])o&&n.push(o);else{var a=ee(dn,r,r);r.definition().orig.push(a),!o&&B&&(o=ee(Cn,s)),N(e,n,a,o)}}e.reverse(),n.reverse()}function R(e,n){for(var t=n.length,i=0,r=p.body.length;i<r;i++){var o=p.body[i];if(o instanceof We)for(var a=0,s=o.definitions.length;a<s;a++){var u=o.definitions[a],c=u.name;if(N(e,n,c,u.value),B){var f=c.definition(),l=ee(bn,c,c);f.references.push(l),n.splice(t++,0,ee(un,u,{operator:"=",left:l,right:ee(Cn,c)}))}}}}function I(){var e=[],n=[];return H(e,n),R(e,n),n.push(D),e.length&&(o=C.body.indexOf(r.parent(S-1))+1,C.body.splice(o,0,ee(We,p,{definitions:e}))),n}}),e(Ze,function(e,n){if(n.option("unsafe")){var t=e.expression;if(Y(t))switch(t.name){case"Object":case"RegExp":case"Function":case"Error":case"Array":return ee(Xe,e,e).transform(n)}}return e}),e(Ke,function(e,r){if(!r.option("side_effects"))return e;var o=[];t();var n=o.length-1;return i(),0==n?(e=ne(r.parent(),r.self(),o[0]))instanceof Ke||(e=e.optimize(r)):e.expressions=o,e;function t(){var t=M(r),i=e.expressions.length-1;e.expressions.forEach(function(e,n){n<i&&(e=e.drop_side_effect_free(r,t)),e&&(d(o,e),t=!1)})}function i(){for(;0<n&&m(o[n],r);)n--;n<o.length-1&&(o[n]=ee(rn,e,{operator:"void",expression:o[n]}),o.length=n+1)}}),tn.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")&&this.expression instanceof Ke){var n=this.expression.expressions.slice(),t=this.clone();return t.expression=n.pop(),n.push(t),P(this,n).optimize(e)}return this}),e(on,function(e,n){return e.lift_sequences(n)}),e(rn,function(e,n){var t=e.expression;if("delete"==e.operator&&!(t instanceof bn||t instanceof Qe||ie(t)))return t instanceof Ke?((t=t.expressions.slice()).push(ee($n,e)),P(e,t).optimize(n)):P(e,[t,ee($n,e)]).optimize(n);var i=e.lift_sequences(n);if(i!==e)return i;if(n.option("side_effects")&&"void"==e.operator)return(t=t.drop_side_effect_free(n))?(e.expression=t,e):ee(Cn,e).optimize(n);if(n.option("booleans")){if("!"==e.operator&&t.is_truthy())return P(e,[t,ee(On,e)]).optimize(n);if(n.in_boolean_context())switch(e.operator){case"!":if(t instanceof rn&&"!"==t.operator)return t.expression;t instanceof an&&(e=W(n,e,t.negate(n,M(n))));break;case"typeof":return n.warn("Boolean expression always true [{file}:{line},{col}]",e.start),(t instanceof bn?ee($n,e):P(e,[t,ee($n,e)])).optimize(n)}}if("-"==e.operator&&t instanceof Sn&&(t=t.transform(n)),t instanceof an&&("+"==e.operator||"-"==e.operator)&&("*"==t.operator||"/"==t.operator||"%"==t.operator))return ee(an,e,{operator:t.operator,left:ee(rn,t.left,{operator:e.operator,expression:t.left}),right:t.right});if("-"!=e.operator||!(t instanceof En||t instanceof Sn)){var r=e.evaluate(n);if(r!==e)return W(n,r=U(r,e).optimize(n),e)}return e}),an.DEFMETHOD("lift_sequences",function(e){if(e.option("sequences")){if(this.left instanceof Ke){var n=this.left.expressions.slice(),t;return(t=this.clone()).left=n.pop(),n.push(t),P(this,n).optimize(e)}if(this.right instanceof Ke&&!this.left.has_side_effects(e)){for(var i="="==this.operator&&this.left instanceof bn,n,r=(n=this.right.expressions).length-1,o=0,t,t;o<r&&(i||!n[o].has_side_effects(e));o++);if(o==r)return n=n.slice(),(t=this.clone()).right=n.pop(),n.push(t),P(this,n).optimize(e);if(0<o)return(t=this.clone()).right=P(this.right,n.slice(o)),(n=n.slice(0,o)).push(t),P(this,n).optimize(e)}}return this});var k=fe("== === != !== * & | ^");function D(e){return e instanceof cn||e instanceof Te||e instanceof fn}function G(e,n){for(var t,i=0;t=e.parent(i);i++)if(t instanceof Te){var r=t.name;if(r&&r.definition()===n)break}return t}function F(e,n){return e instanceof bn||e.TYPE===n.TYPE}function X(t,n){var i=!1,r=new zn(function(e){return!!i||(e instanceof bn&&ae(e.definition(),n)?i=!0:void 0)}),o=new zn(function(e){if(i)return!0;if(e instanceof Be&&e!==t){var n=o.parent();if(n instanceof Xe&&n.expression===e)return;return e.walk(r),!0}});return t.walk(o),i}e(an,function(t,n){function i(){return t.left.is_constant()||t.right.is_constant()||!t.left.has_side_effects(n)&&!t.right.has_side_effects(n)}function e(e){if(i()){e&&(t.operator=e);var n=t.left;t.left=t.right,t.right=n}}if(k(t.operator)&&t.right.is_constant()&&!t.left.is_constant()&&(t.left instanceof an&&Zn[t.left.operator]>=Zn[t.operator]||e()),t=t.lift_sequences(n),n.option("comparisons"))switch(t.operator){case"===":case"!==":var r=!0;(t.left.is_string(n)&&t.right.is_string(n)||t.left.is_number(n)&&t.right.is_number(n)||t.left.is_boolean()&&t.right.is_boolean()||t.left.equivalent_to(t.right))&&(t.operator=t.operator.substr(0,2));case"==":case"!=":if(!r&&m(t.left,n))t.left=ee(Dn,t.left);else if(n.option("typeofs")&&t.left instanceof An&&"undefined"==t.left.value&&t.right instanceof rn&&"typeof"==t.right.operator){var o=t.right.expression;(o instanceof bn?!o.is_declared(n):o instanceof Qe&&n.option("ie8"))||(t.right=o,t.left=ee(Cn,t.left).optimize(n),2==t.operator.length&&(t.operator+="="))}else if(t.left instanceof bn&&t.right instanceof bn&&t.left.definition()===t.right.definition()&&D(t.left.fixed_value()))return ee("="==t.operator[0]?$n:On,t);break;case"&&":case"||":var a=t.left;if(a.operator==t.operator&&(a=a.right),a instanceof an&&a.operator==("&&"==t.operator?"!==":"===")&&t.right instanceof an&&a.operator==t.right.operator&&(m(a.left,n)&&t.right.left instanceof Dn||a.left instanceof Dn&&m(t.right.left,n))&&!a.right.has_side_effects(n)&&a.right.equivalent_to(t.right.right)){var s=ee(an,t,{operator:a.operator.slice(0,-1),left:ee(Dn,t),right:a.right});return a!==t.left&&(s=ee(an,t,{operator:t.operator,left:t.left.left,right:s})),s}}if(n.option("booleans")&&"+"==t.operator&&n.in_boolean_context()){var u=t.left.evaluate(n),c=t.right.evaluate(n);if(u&&"string"==typeof u)return n.warn("+ in boolean context always true [{file}:{line},{col}]",t.start),P(t,[t.right,ee($n,t)]).optimize(n);if(c&&"string"==typeof c)return n.warn("+ in boolean context always true [{file}:{line},{col}]",t.start),P(t,[t.left,ee($n,t)]).optimize(n)}if(n.option("comparisons")&&t.is_boolean()){if(!(n.parent()instanceof an)||n.parent()instanceof un){var f=ee(rn,t,{operator:"!",expression:t.negate(n,M(n))});t=W(n,t,f)}switch(t.operator){case">":e("<");break;case">=":e("<=")}}if("+"==t.operator){if(t.right instanceof An&&""==t.right.getValue()&&t.left.is_string(n))return t.left;if(t.left instanceof An&&""==t.left.getValue()&&t.right.is_string(n))return t.right;if(t.left instanceof an&&"+"==t.left.operator&&t.left.left instanceof An&&""==t.left.left.getValue()&&t.right.is_string(n))return t.left=t.left.right,t.transform(n)}if(n.option("evaluate")){switch(t.operator){case"&&":var u,c,l;if(!(u=_(t.left)))return n.warn("Condition left of && always false [{file}:{line},{col}]",t.start),ne(n.parent(),n.self(),t.left).optimize(n);if(!(u instanceof de))return n.warn("Condition left of && always true [{file}:{line},{col}]",t.start),P(t,[t.left,t.right]).optimize(n);if(c=t.right.evaluate(n)){if(!(c instanceof de)){var p;if("&&"==(p=n.parent()).operator&&p.left===n.self()||n.option("booleans")&&n.in_boolean_context())return n.warn("Dropping side-effect-free && [{file}:{line},{col}]",t.start),t.left.optimize(n)}}else{if(n.option("booleans")&&n.in_boolean_context())return n.warn("Boolean && always false [{file}:{line},{col}]",t.start),P(t,[t.left,ee(On,t)]).optimize(n);t.falsy=!0}if("||"==t.left.operator)if(!(l=t.left.right.evaluate(n)))return ee(sn,t,{condition:t.left.left,consequent:t.right,alternative:t.left.right}).optimize(n);break;case"||":var u,c,p,l;if(!(u=_(t.left)))return n.warn("Condition left of || always false [{file}:{line},{col}]",t.start),P(t,[t.left,t.right]).optimize(n);if(!(u instanceof de))return n.warn("Condition left of || always true [{file}:{line},{col}]",t.start),ne(n.parent(),n.self(),t.left).optimize(n);if(c=t.right.evaluate(n)){if(!(c instanceof de)){if(n.option("booleans")&&n.in_boolean_context())return n.warn("Boolean || always true [{file}:{line},{col}]",t.start),P(t,[t.left,ee($n,t)]).optimize(n);t.truthy=!0}}else if("||"==(p=n.parent()).operator&&p.left===n.self()||n.option("booleans")&&n.in_boolean_context())return n.warn("Dropping side-effect-free || [{file}:{line},{col}]",t.start),t.left.optimize(n);if("&&"==t.left.operator)if((l=t.left.right.evaluate(n))&&!(l instanceof de))return ee(sn,t,{condition:t.left.left,consequent:t.left.right,alternative:t.right}).optimize(n)}var d=!0;switch(t.operator){case"+":if(t.left instanceof xn&&t.right instanceof an&&"+"==t.right.operator&&t.right.left instanceof xn&&t.right.is_string(n)&&(t=ee(an,t,{operator:"+",left:ee(An,t.left,{value:""+t.left.getValue()+t.right.left.getValue(),start:t.left.start,end:t.right.left.end}),right:t.right.right})),t.right instanceof xn&&t.left instanceof an&&"+"==t.left.operator&&t.left.right instanceof xn&&t.left.is_string(n)&&(t=ee(an,t,{operator:"+",left:t.left.left,right:ee(An,t.right,{value:""+t.left.right.getValue()+t.right.getValue(),start:t.left.right.start,end:t.right.end})})),t.left instanceof an&&"+"==t.left.operator&&t.left.is_string(n)&&t.left.right instanceof xn&&t.right instanceof an&&"+"==t.right.operator&&t.right.left instanceof xn&&t.right.is_string(n)&&(t=ee(an,t,{operator:"+",left:ee(an,t.left,{operator:"+",left:t.left.left,right:ee(An,t.left.right,{value:""+t.left.right.getValue()+t.right.left.getValue(),start:t.left.right.start,end:t.right.left.end})}),right:t.right.right})),t.right instanceof rn&&"-"==t.right.operator&&t.left.is_number(n)){t=ee(an,t,{operator:"-",left:t.left,right:t.right.expression});break}if(t.left instanceof rn&&"-"==t.left.operator&&i()&&t.right.is_number(n)){t=ee(an,t,{operator:"-",left:t.right,right:t.left.expression});break}case"*":d=n.option("unsafe_math");case"&":case"|":case"^":if(t.left.is_number(n)&&t.right.is_number(n)&&i()&&!(t.left instanceof an&&t.left.operator!=t.operator&&Zn[t.left.operator]>=Zn[t.operator])){var h=ee(an,t,{operator:t.operator,left:t.right,right:t.left});t=t.right instanceof xn&&!(t.left instanceof xn)?W(n,h,t):W(n,t,h)}d&&t.is_number(n)&&(t.right instanceof an&&t.right.operator==t.operator&&(t=ee(an,t,{operator:t.operator,left:ee(an,t.left,{operator:t.operator,left:t.left,right:t.right.left,start:t.left.start,end:t.right.left.end}),right:t.right.right})),t.right instanceof xn&&t.left instanceof an&&t.left.operator==t.operator&&(t.left.left instanceof xn?t=ee(an,t,{operator:t.operator,left:ee(an,t.left,{operator:t.operator,left:t.left.left,right:t.right,start:t.left.left.start,end:t.right.end}),right:t.left.right}):t.left.right instanceof xn&&(t=ee(an,t,{operator:t.operator,left:ee(an,t.left,{operator:t.operator,left:t.left.right,right:t.right,start:t.left.right.start,end:t.right.end}),right:t.left.left}))),t.left instanceof an&&t.left.operator==t.operator&&t.left.right instanceof xn&&t.right instanceof an&&t.right.operator==t.operator&&t.right.left instanceof xn&&(t=ee(an,t,{operator:t.operator,left:ee(an,t.left,{operator:t.operator,left:ee(an,t.left.left,{operator:t.operator,left:t.left.right,right:t.right.left,start:t.left.right.start,end:t.right.left.end}),right:t.left.left}),right:t.right.right})))}}if(t.right instanceof an&&t.right.operator==t.operator&&(re(t.operator)||"+"==t.operator&&(t.right.left.is_string(n)||t.left.is_string(n)&&t.right.right.is_string(n))))return t.left=ee(an,t.left,{operator:t.operator,left:t.left,right:t.right.left}),t.right=t.right.right,t.transform(n);var v=t.evaluate(n);return v!==t?(v=U(v,t).optimize(n),W(n,v,t)):t;function _(e){return!!e.truthy||!e.falsy&&(!!e.is_truthy()||e.evaluate(n))}}),e(bn,function(e,n){var t=e.resolve_defines(n);if(t)return t.optimize(n);if(!n.option("ie8")&&Y(e)&&(!e.scope.uses_with||!n.find_parent(Ce)))switch(e.name){case"undefined":return ee(Cn,e).optimize(n);case"NaN":return ee(Fn,e).optimize(n);case"Infinity":return ee(Sn,e).optimize(n)}if(n.option("reduce_vars")&&oe(e,n.parent())!==e){var i=e.definition(),r=e.fixed_value(),o=i.single_use;if(o&&r instanceof Te)if(i.scope===e.scope||n.option("reduce_funcs")&&1!=i.escaped&&!r.inlined){if(G(n,i))o=!1;else if((i.scope!==e.scope||i.orig[0]instanceof hn)&&"f"==(o=r.is_constant_expression(e.scope)))for(var a=e.scope;(a instanceof ze||a instanceof $e)&&(a.inlined=!0),a=a.parent_scope;);}else o=!1;if(o&&r){var s;if(r instanceof ze&&(r._squeezed=!0,r=ee($e,r,r)),0<i.recursive_refs&&r.name instanceof vn){var u=(s=r.clone(!0)).name.definition(),c=s.variables.get(s.name.name),f=c&&c.orig[0];f instanceof _n||(((f=ee(_n,s.name,s.name)).scope=s).name=f,c=s.def_function(f)),s.walk(new zn(function(e){e instanceof bn&&e.definition()===u&&(e.thedef=c).references.push(e)}))}else(s=r.optimize(n))===r&&(s=r.clone(!0));return s}if(r&&void 0===i.should_replace){var l;if(r instanceof wn)i.orig[0]instanceof hn||!le(i.references,function(e){return i.scope===e.scope})||(l=r);else{var p=r.evaluate(n);p===r||!n.option("unsafe_regexp")&&p instanceof RegExp||(l=U(p,r))}if(l){var d=l.optimize(n).print_to_string().length,h;m(r)?h=function(){var e=l.optimize(n);return e===l?e.clone(!0):e}:(d=Math.min(d,r.print_to_string().length),h=function(){var e=y(l.optimize(n),r);return e===l||e===r?e.clone(!0):e});var v=i.name.length,_=0;n.option("unused")&&!n.exposed(i)&&(_=(v+2+d)/(i.references.length-i.assignments)),i.should_replace=d<=v+_&&h}else i.should_replace=!1}if(i.should_replace)return i.should_replace()}return e;function m(e){var n;return e.walk(new zn(function(e){if(e instanceof bn&&(n=!0),n)return!0})),n}}),e(Cn,function(e,n){if(n.option("unsafe_undefined")){var t=o(n,"undefined");if(t){var i=ee(bn,e,{name:"undefined",scope:t.scope,thedef:t});return i.is_undefined=!0,i}}var r=oe(n.self(),n.parent());return r&&F(r,e)?e:ee(rn,e,{operator:"void",expression:ee(En,e,{value:0})})}),e(Sn,function(e,n){var t=oe(n.self(),n.parent());return t&&F(t,e)?e:!n.option("keep_infinity")||t&&!F(t,e)||o(n,"Infinity")?ee(an,e,{operator:"/",left:ee(En,e,{value:1}),right:ee(En,e,{value:0})}):e}),e(Fn,function(e,n){var t=oe(n.self(),n.parent());return t&&!F(t,e)||o(n,"NaN")?ee(an,e,{operator:"/",left:ee(En,e,{value:0}),right:ee(En,e,{value:0})}):e});var C=["+","-","/","*","%",">>","<<",">>>","|","^","&"],B=["*","|","^","&"];e(un,function(a,s){var e;if(s.option("dead_code")&&a.left instanceof bn&&(e=a.left.definition()).scope===s.find_parent(Te)){var n=0,t,i=a;do{if(t=i,(i=s.parent(n++))instanceof Me){if(r(n,i))break;if(X(e.scope,[e]))break;return"="==a.operator?a.right:(e.fixed=!1,ee(an,a,{operator:a.operator.slice(0,-1),left:a.left,right:a.right}).optimize(s))}}while(i instanceof an&&i.right===t||i instanceof Ke&&i.tail_node()===t)}return"="==(a=a.lift_sequences(s)).operator&&a.left instanceof bn&&a.right instanceof an&&(a.right.left instanceof bn&&a.right.left.name==a.left.name&&ae(a.right.operator,C)?(a.operator=a.right.operator+"=",a.right=a.right.right):a.right.right instanceof bn&&a.right.right.name==a.left.name&&ae(a.right.operator,B)&&!a.right.left.has_side_effects(s)&&(a.operator=a.right.operator+"=",a.right=a.right.left)),a;function r(e,n){var t=a.right;a.right=ee(Dn,t);var i=n.may_throw(s);a.right=t;for(var r=a.left.definition().scope,o;(o=s.parent(e++))!==r;)if(o instanceof Le){if(o.bfinally)return!0;if(i&&o.bcatch)return!0}}}),e(sn,function(e,n){if(!n.option("conditionals"))return e;if(e.condition instanceof Ke){var t=e.condition.expressions.slice();return e.condition=t.pop(),t.push(e),P(e,t)}var i=e.condition.is_truthy()||e.condition.tail_node().evaluate(n);if(!i)return n.warn("Condition always false [{file}:{line},{col}]",e.start),P(e,[e.condition,e.alternative]).optimize(n);if(!(i instanceof de))return n.warn("Condition always true [{file}:{line},{col}]",e.start),P(e,[e.condition,e.consequent]).optimize(n);var r=i.negate(n,M(n));W(n,i,r)===r&&(e=ee(sn,e,{condition:r,consequent:e.alternative,alternative:e.consequent}));var o=e.condition,a=e.consequent,s=e.alternative,u;if(o instanceof bn&&a instanceof bn&&o.definition()===a.definition())return ee(an,e,{operator:"||",left:o,right:s});if(a instanceof un&&s instanceof un&&a.operator==s.operator&&a.left.equivalent_to(s.left)&&(!e.condition.has_side_effects(n)||"="==a.operator&&!a.left.has_side_effects(n)))return ee(un,e,{operator:a.operator,left:a.left,right:ee(sn,e,{condition:e.condition,consequent:a.right,alternative:s.right})});if(a instanceof Xe&&s.TYPE===a.TYPE&&0<a.args.length&&a.args.length==s.args.length&&a.expression.equivalent_to(s.expression)&&!e.condition.has_side_effects(n)&&!a.expression.has_side_effects(n)&&"number"==typeof(u=h())){var c=a.clone();return c.args[u]=ee(sn,e,{condition:e.condition,consequent:a.args[u],alternative:s.args[u]}),c}if(a instanceof sn&&a.alternative.equivalent_to(s))return ee(sn,e,{condition:ee(an,e,{left:e.condition,operator:"&&",right:a.condition}),consequent:a.consequent,alternative:s});if(a.equivalent_to(s))return P(e,[e.condition,a]).optimize(n);if((a instanceof Ke||s instanceof Ke)&&a.tail_node().equivalent_to(s.tail_node()))return P(e,[ee(sn,e,{condition:e.condition,consequent:v(a),alternative:v(s)}),a.tail_node()]).optimize(n);if(a instanceof an&&"||"==a.operator&&a.right.equivalent_to(s))return ee(an,e,{operator:"||",left:ee(an,e,{operator:"&&",left:e.condition,right:a.left}),right:s}).optimize(n);var f=n.option("booleans")&&n.in_boolean_context();return p(e.consequent)?d(e.alternative)?l(e.condition):ee(an,e,{operator:"||",left:l(e.condition),right:e.alternative}):d(e.consequent)?p(e.alternative)?l(e.condition.negate(n)):ee(an,e,{operator:"&&",left:l(e.condition.negate(n)),right:e.alternative}):p(e.alternative)?ee(an,e,{operator:"||",left:l(e.condition.negate(n)),right:e.consequent}):d(e.alternative)?ee(an,e,{operator:"&&",left:l(e.condition),right:e.consequent}):e;function l(e){return e.is_boolean()?e:ee(rn,e,{operator:"!",expression:e.negate(n)})}function p(e){return e instanceof $n||f&&e instanceof xn&&e.getValue()||e instanceof rn&&"!"==e.operator&&e.expression instanceof xn&&!e.expression.getValue()}function d(e){return e instanceof On||f&&e instanceof xn&&!e.getValue()||e instanceof rn&&"!"==e.operator&&e.expression instanceof xn&&e.expression.getValue()}function h(){for(var e=a.args,n=s.args,t=0,i=e.length;t<i;t++)if(!e[t].equivalent_to(n[t])){for(var r=t+1;r<i;r++)if(!e[r].equivalent_to(n[r]))return;return t}}function v(e){return e instanceof Ke?P(e,e.expressions.slice(0,-1)):ee(En,e,{value:0})}}),e(Tn,function(e,n){if(!n.option("booleans"))return e;if(n.in_boolean_context())return ee(En,e,{value:+e.value});var t=n.parent();return t instanceof an&&("=="==t.operator||"!="==t.operator)?(n.warn("Non-strict equality against boolean: {operator} {value} [{file}:{line},{col}]",{operator:t.operator,value:e.value,file:t.start.file,line:t.start.line,col:t.start.col}),ee(En,e,{value:+e.value})):ee(rn,e,{operator:"!",expression:ee(En,e,{value:1-e.value})})}),e(nn,function(e,n){var t=e.expression,i=e.property,r;if(n.option("properties")){var o=i.evaluate(n);if(o!==i){var a;if("string"==typeof o)if("undefined"==o)o=void 0;else(a=parseFloat(o)).toString()==o&&(o=a);i=e.property=y(i,U(o,i).transform(n));var s=""+o;if(In(s)&&s.length<=i.print_to_string().length+1)return ee(en,e,{expression:t,property:s}).optimize(n)}}if(oe(e,n.parent()))return e;if(o!==i){var u=e.flatten_object(s,n);u&&(t=e.expression=u.expression,i=e.property=u.property)}if(n.option("properties")&&n.option("side_effects")&&i instanceof En&&t instanceof cn){var c=i.getValue(),f=t.elements;if(c in f){for(var l=!0,p=[],d=f.length;--d>c;){var a;(a=f[d].drop_side_effect_free(n))&&(p.unshift(a),l&&a.has_side_effects(n)&&(l=!1))}var h=f[c];for(h=h instanceof Bn?ee(Cn,h):h,l||p.unshift(h);0<=--d;){var a;(a=f[d].drop_side_effect_free(n))?p.unshift(a):c--}return l?(p.push(h),P(e,p).optimize(n)):ee(nn,e,{expression:ee(cn,t,{elements:p}),property:ee(En,i,{value:c})})}}if(n.option("arguments")&&t instanceof bn&&"arguments"==t.name&&1==t.definition().orig.length&&(r=t.scope)instanceof Te&&i instanceof En){var c=i.getValue(),v=r.argnames[c];if(!v&&!n.option("keep_fargs"))for(;c>=r.argnames.length;)v=ee(hn,r,{name:r.make_var_name("argument_"+r.argnames.length),scope:r}),r.argnames.push(v),r.enclosed.push(r.def_variable(v));if(v){var _=ee(bn,e,v);return _.reference({}),_}}var m=e.evaluate(n);return m!==e?W(n,m=U(m,e).optimize(n),e):e}),Te.DEFMETHOD("contains_this",function(){var n,t=this;return t.walk(new zn(function(e){return!!n||(e instanceof wn?n=!0:e!==t&&e instanceof Be||void 0)})),n}),Qe.DEFMETHOD("flatten_object",function(e,n){if(n.option("properties")){var t=this.expression;if(t instanceof fn)for(var i=t.properties,r=i.length;0<=--r;){var o=i[r];if(""+o.key==e){if(!le(i,function(e){return e instanceof ln}))break;var a=o.value;if(a instanceof $e&&!(n.parent()instanceof Ze)&&a.contains_this())break;return ee(nn,this,{expression:ee(cn,t,{elements:i.map(function(e){return e.value})}),property:ee(En,this,{value:r})})}}}}),e(en,function(e,n){"arguments"!=e.property&&"caller"!=e.property||n.warn("Function.protoype.{prop} not supported [{file}:{line},{col}]",{prop:e.property,file:e.start.file,line:e.start.line,col:e.start.col});var t=e.resolve_defines(n);if(t)return t.optimize(n);if(oe(e,n.parent()))return e;if(n.option("unsafe_proto")&&e.expression instanceof en&&"prototype"==e.expression.property){var i=e.expression.expression;if(Y(i))switch(i.name){case"Array":e.expression=ee(cn,e.expression,{elements:[]});break;case"Function":e.expression=ee($e,e.expression,{argnames:[],body:[]});break;case"Number":e.expression=ee(En,e.expression,{value:0});break;case"Object":e.expression=ee(fn,e.expression,{properties:[]});break;case"RegExp":e.expression=ee(kn,e.expression,{value:/t/});break;case"String":e.expression=ee(An,e.expression,{value:""})}}var r=e.flatten_object(e.property,n);if(r)return r.optimize(n);var o=e.evaluate(n);return o!==e?W(n,o=U(o,e).optimize(n),e):e}),e(qe,function(e,n){return e.value&&m(e.value,n)&&(e.value=null),e}),e(Ge,function(e,n){var t=n.option("global_defs");return t&&pe(t,e.name.name)&&n.warn("global_defs "+e.name.name+" redefined [{file}:{line},{col}]",e.start),e})}(),function(){var n=function(e){for(var n=!0,t=0;t<e.length;t++)n&&e[t]instanceof he&&e[t].body instanceof An?e[t]=new _e({start:e[t].start,end:e[t].end,value:e[t].body.value}):!n||e[t]instanceof he&&e[t].body instanceof An||(n=!1);return e},i={Program:function(e){return new Se({start:s(e),end:u(e),body:n(e.body.map(c))})},FunctionDeclaration:function(e){return new ze({start:s(e),end:u(e),name:c(e.id),argnames:e.params.map(c),body:n(c(e.body).body)})},FunctionExpression:function(e){return new $e({start:s(e),end:u(e),name:c(e.id),argnames:e.params.map(c),body:n(c(e.body).body)})},ExpressionStatement:function(e){return new me({start:s(e),end:u(e),body:c(e.expression)})},TryStatement:function(e){var n=e.handlers||[e.handler];if(1<n.length||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new Le({start:s(e),end:u(e),body:c(e.block).body,bcatch:c(n[0]),bfinally:e.finalizer?new Ye(c(e.finalizer)):null})},Property:function(e){var n=e.key,t={start:s(n),end:u(e.value),key:"Identifier"==n.type?n.name:n.value,value:c(e.value)};return"init"==e.kind?new ln(t):(t.key=new oe({name:t.key}),t.value=new Oe(t.value),"get"==e.kind?new re(t):"set"==e.kind?new ie(t):void 0)},ArrayExpression:function(e){return new cn({start:s(e),end:u(e),elements:e.elements.map(function(e){return null===e?new Bn:c(e)})})},ObjectExpression:function(e){return new fn({start:s(e),end:u(e),properties:e.properties.map(function(e){return e.type="Property",c(e)})})},SequenceExpression:function(e){return new Ke({start:s(e),end:u(e),expressions:e.expressions.map(c)})},MemberExpression:function(e){return new(e.computed?nn:en)({start:s(e),end:u(e),property:e.computed?c(e.property):e.property.name,expression:c(e.object)})},SwitchCase:function(e){return new(e.test?Ue:Pe)({start:s(e),end:u(e),expression:c(e.test),body:e.consequent.map(c)})},VariableDeclaration:function(e){return new We({start:s(e),end:u(e),definitions:e.declarations.map(c)})},Literal:function(e){var n=e.value,t={start:s(e),end:u(e)};if(null===n)return new Dn(t);switch(typeof n){case"string":return t.value=n,new An(t);case"number":return t.value=n,new En(t);case"boolean":return new(n?$n:On)(t);default:var i=e.regex;return i&&i.pattern?t.value=new RegExp(i.pattern,i.flags).toString():t.value=e.regex&&e.raw?e.raw:n,new kn(t)}},Identifier:function(e){var n=o[o.length-2];return new("LabeledStatement"==n.type?gn:"VariableDeclarator"==n.type&&n.id===e?dn:"FunctionExpression"==n.type?n.id===e?_n:hn:"FunctionDeclaration"==n.type?n.id===e?vn:hn:"CatchClause"==n.type?mn:"BreakStatement"==n.type||"ContinueStatement"==n.type?yn:bn)({start:s(e),end:u(e),name:e.name})}};function r(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function s(e){var n=e.loc,t=n&&n.start,i=e.range;return new q({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[0]:e.start,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[0]:e.start,raw:r(e)})}function u(e){var n=e.loc,t=n&&n.end,i=e.range;return new q({file:n&&n.source,line:t&&t.line,col:t&&t.column,pos:i?i[1]:e.end,endline:t&&t.line,endcol:t&&t.column,endpos:i?i[1]:e.end,raw:r(e)})}function e(e,n,t){var o="function From_Moz_"+e+"(M){\n";o+="return new U2."+n.name+"({\nstart: my_start_token(M),\nend: my_end_token(M)";var a="function To_Moz_"+e+"(M){\n";a+="return {\ntype: "+JSON.stringify(e),t&&t.split(/\s*,\s*/).forEach(function(e){var n=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!n)throw new Error("Can't understand property map: "+e);var t=n[1],i=n[2],r=n[3];switch(o+=",\n"+r+": ",a+=",\n"+t+": ",i){case"@":o+="M."+t+".map(from_moz)",a+="M."+r+".map(to_moz)";break;case">":o+="from_moz(M."+t+")",a+="to_moz(M."+r+")";break;case"=":o+="M."+t,a+="M."+r;break;case"%":o+="from_moz(M."+t+").body",a+="to_moz_block(M)";break;default:throw new Error("Can't understand operator in propmap: "+e)}}),o+="\n})\n}",a+="\n}\n}",o=new Function("U2","my_start_token","my_end_token","from_moz","return("+o+")")(h,s,u,c),a=new Function("to_moz","to_moz_block","to_moz_scope","return("+a+")")(l,p,d),i[e]=o,f(n,a)}i.UpdateExpression=i.UnaryExpression=function e(n){var t;return new(("prefix"in n?n.prefix:"UnaryExpression"==n.type)?rn:on)({start:s(n),end:u(n),operator:n.operator,expression:c(n.argument)})},e("EmptyStatement",ye),e("BlockStatement",be,"body@body"),e("IfStatement",Re,"test>condition, consequent>body, alternate>alternative"),e("LabeledStatement",we,"label>label, body>body"),e("BreakStatement",Ne,"label>label"),e("ContinueStatement",He,"label>label"),e("WithStatement",Ce,"object>expression, body>body"),e("SwitchStatement",Ie,"discriminant>expression, cases@body"),e("ReturnStatement",qe,"argument>value"),e("ThrowStatement",te,"argument>value"),e("WhileStatement",ke,"test>condition, body>body"),e("DoWhileStatement",Ee,"test>condition, body>body"),e("ForStatement",De,"init>init, test>condition, update>step, body>body"),e("ForInStatement",Fe,"left>init, right>object, body>body"),e("DebuggerStatement",ve),e("VariableDeclarator",Ge,"id>name, init>value"),e("CatchClause",Ve,"param>argname, body%body"),e("ThisExpression",wn),e("BinaryExpression",an,"operator=operator, left>left, right>right"),e("LogicalExpression",an,"operator=operator, left>left, right>right"),e("AssignmentExpression",un,"operator=operator, left>left, right>right"),e("ConditionalExpression",sn,"test>condition, consequent>consequent, alternate>alternative"),e("NewExpression",Ze,"callee>expression, arguments@args"),e("CallExpression",Xe,"callee>expression, arguments@args"),f(Se,function e(n){return d("Program",n)}),f(ze,function e(n){return{type:"FunctionDeclaration",id:l(n.name),params:n.argnames.map(l),body:d("BlockStatement",n)}}),f($e,function e(n){return{type:"FunctionExpression",id:l(n.name),params:n.argnames.map(l),body:d("BlockStatement",n)}}),f(_e,function e(n){return{type:"ExpressionStatement",expression:{type:"Literal",value:n.value}}}),f(me,function e(n){return{type:"ExpressionStatement",expression:l(n.body)}}),f(H,function e(n){return{type:"SwitchCase",test:l(n.expression),consequent:n.body.map(l)}}),f(Le,function e(n){return{type:"TryStatement",block:p(n),handler:l(n.bcatch),guardedHandlers:[],finalizer:l(n.bfinally)}}),f(Ve,function e(n){return{type:"CatchClause",param:l(n.argname),guard:null,body:p(n)}}),f(Je,function e(n){return{type:"VariableDeclaration",kind:"var",declarations:n.definitions.map(l)}}),f(Ke,function e(n){return{type:"SequenceExpression",expressions:n.expressions.map(l)}}),f(Qe,function e(n){var t=n instanceof nn;return{type:"MemberExpression",object:l(n.expression),computed:t,property:t?l(n.property):{type:"Identifier",name:n.property}}}),f(tn,function e(n){return{type:"++"==n.operator||"--"==n.operator?"UpdateExpression":"UnaryExpression",operator:n.operator,prefix:n instanceof rn,argument:l(n.expression)}}),f(an,function e(n){return{type:"&&"==n.operator||"||"==n.operator?"LogicalExpression":"BinaryExpression",left:l(n.left),operator:n.operator,right:l(n.right)}}),f(cn,function e(n){return{type:"ArrayExpression",elements:n.elements.map(l)}}),f(fn,function e(n){return{type:"ObjectExpression",properties:n.properties.map(l)}}),f(R,function e(n){var t={type:"Literal",value:n.key instanceof oe?n.key.name:n.key},i;return n instanceof ln?i="init":n instanceof re?i="get":n instanceof ie&&(i="set"),{type:"Property",kind:i,key:t,value:l(n.value)}}),f(I,function e(n){var t=n.definition();return{type:"Identifier",name:t?t.mangled_name||t.name:n.name}}),f(kn,function e(n){var t=n.value;return{type:"Literal",value:t,raw:t.toString(),regex:{pattern:t.source,flags:t.toString().match(/[gimuy]*$/)[0]}}}),f(xn,function e(n){var t=n.value;return"number"==typeof t&&(t<0||0===t&&1/t<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-t,raw:n.start.raw}}:{type:"Literal",value:t,raw:n.start.raw}}),f(a,function e(n){return{type:"Identifier",name:String(n.value)}}),Tn.DEFMETHOD("to_mozilla_ast",xn.prototype.to_mozilla_ast),Dn.DEFMETHOD("to_mozilla_ast",xn.prototype.to_mozilla_ast),Bn.DEFMETHOD("to_mozilla_ast",function e(){return null}),ge.DEFMETHOD("to_mozilla_ast",be.prototype.to_mozilla_ast),Te.DEFMETHOD("to_mozilla_ast",$e.prototype.to_mozilla_ast);var o=null;function c(e){o.push(e);var n=null!=e?i[e.type](e):null;return o.pop(),n}function t(e,n,t){var i=e.start,r=e.end;return null!=i.pos&&null!=r.endpos&&(n.range=[i.pos,r.endpos]),i.line&&(n.loc={start:{line:i.line,column:i.col},end:r.endline?{line:r.endline,column:r.endcol}:null},i.file&&(n.loc.source=i.file)),n}function f(e,n){e.DEFMETHOD("to_mozilla_ast",function(){return t(this,n(this))})}function l(e){return null!=e?e.to_mozilla_ast():null}function p(e){return{type:"BlockStatement",body:e.body.map(l)}}function d(e,n){var t=n.body.map(l);return n.body[0]instanceof me&&n.body[0].body instanceof An&&t.unshift(l(new ye(n.body[0]))),{type:e,body:t}}de.from_mozilla_ast=function(e){var n=o;o=[];var t=c(e);return o=n,t}}();var C="undefined"==typeof atob?function(e){return new Buffer(e,"base64").toString()}:atob,B="undefined"==typeof btoa?function(e){return new Buffer(e).toString("base64")}:btoa;function ot(e){var n=/\n\/\/# sourceMappingURL=data:application\/json(;.*?)?;base64,(.*)/.exec(e);return n?C(n[2]):(de.warn("inline source map not found"),null)}function at(n,t,e){t[n]&&e.forEach(function(e){t[e]&&("object"!=typeof t[e]&&(t[e]={}),n in t[e]||(t[e][n]=t[n]))})}function st(e){e&&("props"in e?e.props instanceof z||(e.props=z.fromObject(e.props)):e.props=new z)}function ut(e){return{props:e.props.toObject()}}function ct(e,n){var t=de.warn_function;try{var i=(n=ne(n,{compress:{},ie8:!1,keep_fnames:!1,mangle:{},nameCache:null,output:{},parse:{},rename:void 0,sourceMap:!1,timings:!1,toplevel:!1,warnings:!1,wrap:!1},!0)).timings&&{start:Date.now()},r;void 0===n.rename&&(n.rename=n.compress&&n.mangle),at("ie8",n,["compress","mangle","output"]),at("keep_fnames",n,["compress","mangle"]),at("toplevel",n,["compress","mangle"]),at("warnings",n,["compress"]),n.mangle&&(n.mangle=ne(n.mangle,{cache:n.nameCache&&(n.nameCache.vars||{}),eval:!1,ie8:!1,keep_fnames:!1,properties:!1,reserved:[],toplevel:!1},!0),n.mangle.properties&&("object"!=typeof n.mangle.properties&&(n.mangle.properties={}),n.mangle.properties.keep_quoted&&(r=n.mangle.properties.reserved,Array.isArray(r)||(r=[]),n.mangle.properties.reserved=r),!n.nameCache||"cache"in n.mangle.properties||(n.mangle.properties.cache=n.nameCache.props||{})),st(n.mangle.cache),st(n.mangle.properties.cache)),n.sourceMap&&(n.sourceMap=ne(n.sourceMap,{content:null,filename:null,includeSources:!1,root:null,url:null},!0));var o=[],a;if(n.warnings&&!de.warn_function&&(de.warn_function=function(e){o.push(e)}),i&&(i.parse=Date.now()),e instanceof Se)a=e;else{for(var s in"string"==typeof e&&(e=[e]),n.parse=n.parse||{},n.parse.toplevel=null,e)if(pe(e,s)&&(n.parse.filename=s,n.parse.toplevel=Qn(e[s],n.parse),n.sourceMap&&"inline"==n.sourceMap.content)){if(1<Object.keys(e).length)throw new Error("inline source map only works with singular input");n.sourceMap.content=ot(e[s])}a=n.parse.toplevel}r&&k(a,r),n.wrap&&(a=a.wrap_commonjs(n.wrap)),i&&(i.rename=Date.now()),n.rename&&(a.figure_out_scope(n.mangle),a.expand_names(n.mangle)),i&&(i.compress=Date.now()),n.compress&&(a=new rt(n.compress).compress(a)),i&&(i.scope=Date.now()),n.mangle&&a.figure_out_scope(n.mangle),i&&(i.mangle=Date.now()),n.mangle&&(a.compute_char_frequency(n.mangle),a.mangle_names(n.mangle)),i&&(i.properties=Date.now()),n.mangle&&n.mangle.properties&&(a=F(a,n.mangle.properties)),i&&(i.output=Date.now());var u={};if(n.output.ast&&(u.ast=a),!pe(n.output,"code")||n.output.code){if(n.sourceMap&&("string"==typeof n.sourceMap.content&&(n.sourceMap.content=JSON.parse(n.sourceMap.content)),n.output.source_map=A({file:n.sourceMap.filename,orig:n.sourceMap.content,root:n.sourceMap.root}),n.sourceMap.includeSources)){if(e instanceof Se)throw new Error("original source content unavailable");for(var s in e)pe(e,s)&&n.output.source_map.get().setSourceContent(s,e[s])}delete n.output.ast,delete n.output.code;var c=it(n.output);a.print(c),u.code=c.get(),n.sourceMap&&(u.map=n.output.source_map.toString(),"inline"==n.sourceMap.url?u.code+="\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,"+B(u.map):n.sourceMap.url&&(u.code+="\n//# sourceMappingURL="+n.sourceMap.url))}return n.nameCache&&n.mangle&&(n.mangle.cache&&(n.nameCache.vars=ut(n.mangle.cache)),n.mangle.properties&&n.mangle.properties.cache&&(n.nameCache.props=ut(n.mangle.properties.cache))),i&&(i.end=Date.now(),u.timings={parse:.001*(i.rename-i.parse),rename:.001*(i.compress-i.rename),compress:.001*(i.scope-i.compress),scope:.001*(i.mangle-i.scope),mangle:.001*(i.properties-i.mangle),properties:.001*(i.output-i.properties),output:.001*(i.end-i.output),total:.001*(i.end-i.start)}),o.length&&(u.warnings=o),u}catch(e){return{error:e}}finally{de.warn_function=t}}h.Dictionary=z,h.TreeWalker=zn,h.TreeTransformer=et,h.minify=ct,h.parse=Qn,h._push_uniq=v})("undefined"==typeof UglifyJS?UglifyJS={}:UglifyJS);